<!--The Preferences Modal Dialog was created following the screen design (width, height, colors, styles) located in the next site:
    https://www.figma.com/file/i2e1g2calbisxZTadS8pOV/DynamoPreferencePalette?node-id=3%3A3353-->
<Window x:Class="Dynamo.Wpf.Views.PreferencesView"
        x:Name="DynamoPreferencesWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"     
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:controls="clr-namespace:Dynamo.Controls"
        xmlns:p="clr-namespace:Dynamo.Wpf.Properties;assembly=DynamoCoreWpf"   
        xmlns:ui="clr-namespace:Dynamo.UI"
        xmlns:viewModels="clr-namespace:Dynamo.ViewModels"
        xmlns:sys="clr-namespace:System;assembly=mscorlib"
        xmlns:fa="http://schemas.fontawesome.io/icons/" 
        xmlns:packagemanager="clr-namespace:Dynamo.Wpf.Views.PackageManager"
        xmlns:trustedpaths="clr-namespace:Dynamo.Wpf.Views"
        xmlns:wpfControls="clr-namespace:Dynamo.Wpf.Controls"
        d:DataContext="{d:DesignInstance Type=viewModels:PreferencesViewModel}"
        WindowStartupLocation="CenterOwner"
        WindowStyle="None"
        mc:Ignorable="d" 
        Height="480" 
        Width="665"
        ResizeMode="NoResize">

    <!--Using the Styles from the SharedResourcesDictionary located in DynamoCoreWpf/UI/Themes/DynamoModern.xaml-->
    <Window.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ui:SharedResourceDictionary Source="{x:Static ui:SharedDictionaryManager.DynamoConvertersDictionaryUri}" />
                <ui:SharedResourceDictionary Source="{x:Static ui:SharedDictionaryManager.DynamoModernDictionaryUri}" />
            </ResourceDictionary.MergedDictionaries>
            <controls:BrushColorToStringConverter x:Key="BrushColorToStringConverter"/>
            <controls:StringToBrushColorConverter x:Key="StringToBrushColorConverter"/>
            <controls:RadioButtonCheckedConverter x:Key="RadioButtonCheckedConverter"/>
            <controls:BinaryRadioButtonCheckedConverter x:Key="BinaryRadioButtonCheckedConverter"/>
            <controls:ExpandersBindingConverter x:Key="ExpandersBindingConverter"/>
            <controls:InverseBoolToVisibilityConverter  x:Key="InverseBoolToVisibilityConverter "/>
            <controls:InverseBoolToEnablingConverter  x:Key="InverseBoolToEnablingConverter "/>
            <BooleanToVisibilityConverter x:Key="BooleanToVisibilityConverter"/>

            <!--This Template will be used for the controls generated in the Styles list when a new Style is saved-->
            <DataTemplate x:Key="styleViewItemTemplate">
                 <Border Background="{StaticResource PreferencesWindowBackgroundColor}" Padding="0,0,0,10" Margin="0,0,0,5"
                        BorderThickness="1" BorderBrush="#FF97A0A5" Width="210">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="auto" />
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>
                        <Grid Grid.Column="0">
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="*"></RowDefinition>
                                    <RowDefinition Height="*"></RowDefinition>
                                </Grid.RowDefinitions>
                                <TextBlock Name="groupNameLabel"
                                        Text="{Binding Name}"
                                        HorizontalAlignment="Left"
                                        Grid.Row="0"
                                        Margin="5,0,0,0"
                                        TextTrimming="CharacterEllipsis"
                                        MinWidth="110"
                                        MaxWidth="135"
                                        Foreground="{StaticResource PreferencesWindowFontColor}">
                                    <TextBlock.ToolTip>
                                        <ToolTip Content="{Binding Name}" Style="{StaticResource GenericToolTipLight}"/>
                                    </TextBlock.ToolTip>
                                </TextBlock>
                                <StackPanel Orientation="Horizontal"
                                            HorizontalAlignment="Left"
                                            Width="auto"
                                            Margin="10,0,20,0"
                                            Grid.Row="1">
                                    <Button
                                            Style="{StaticResource ButtonColorPickerStyle}"
                                            Background="{Binding HexColorString, Converter={StaticResource StringToBrushColorConverter}}"
                                            Click="onChangedGroupStyleColor_Click"
                                            Width="25" 
                                            Height="15"
                                            IsEnabled="{Binding Path=IsDefault, Converter={StaticResource InverseBoolToEnablingConverter}}" />
                                    <Label Name="colorHexVal" 
                                            Foreground="{StaticResource PreferencesWindowFontColor}"
                                            FontSize="13"
                                            Content="{Binding Background, ElementName=borderColor, Converter={StaticResource BrushColorToStringConverter}}"/>
                                </StackPanel>
                            </Grid>
                        </Grid>
                        <Grid Grid.Column="1">
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="*"></RowDefinition>
                                    <RowDefinition Height="*"></RowDefinition>
                                </Grid.RowDefinitions>
                                <Button Name="removeStyle"
                                    Margin="0,0,8,0"
                                    HorizontalAlignment="Right"
                                    VerticalAlignment="Top"
                                    Visibility="{Binding Path=IsDefault, Converter={StaticResource InverseBoolToVisibilityConverter}}"
                                    Click="RemoveStyle_Click"
                                    Style="{StaticResource FlatIconButtonStyle}"
                                    Width="20"
                                    Height="30"
									Grid.Row="0">
                                    <fa:ImageAwesome Icon="Trash"          
                                                 Width="15"
                                                 Height="25"
                                                 IsHitTestVisible="False"
                                                 Foreground="{StaticResource PreferencesWindowFontColor}"/>
                                </Button>
                                <StackPanel Orientation="Horizontal"
                                            Grid.Row="1">
                                    <Image Width="24" Height="24" Margin="0,0,0,0" HorizontalAlignment="Left" VerticalAlignment="Center" Source="/DynamoCoreWpf;component/UI/Images/font-size.png">
                                        <Image.ToolTip>
                                            <ToolTip Content="{x:Static p:Resources.GroupStyleFontSizeToolTip}" Style="{StaticResource GenericToolTipLight}"/>
                                        </Image.ToolTip>
                                    </Image>
                                    <ComboBox Grid.Row="1"
                                                  HorizontalAlignment="Left"
                                                  Margin="2,0,0,0"
                                                  ItemsSource="{Binding RelativeSource={RelativeSource AncestorType=Window},Path=DataContext.GroupStyleFontSizeList}" 
                                                  SelectedItem="{Binding Path=FontSize}"
                                                  Style="{StaticResource NoBordersComboBoxStyle}"
                                                  IsEnabled="{Binding Path=IsDefault, Converter={StaticResource InverseBoolToEnablingConverter}}">
                                    </ComboBox>
                                </StackPanel>
                            </Grid>
                        </Grid>
                    </Grid>
                </Border>
            </DataTemplate>
        </ResourceDictionary>
    </Window.Resources>

    <!--This is the main row of the Preference Window-->
    <Grid x:Name="mainGrid"
    	  Background="{StaticResource PreferencesWindowBackgroundColor}">
        <Grid.Resources>
            <sys:Double x:Key="ToggleButtonWidth">40</sys:Double>
            <sys:Double x:Key="ToggleButtonHeight">20</sys:Double>
        </Grid.Resources>
        <!--The Window is divided basically in three rows, TitleBar, Content, and ButtonsBottomSection-->
        <Grid.RowDefinitions>
            <RowDefinition Height="40"></RowDefinition>
            <RowDefinition Height="*"></RowDefinition>
            <RowDefinition Height="50"></RowDefinition>
        </Grid.RowDefinitions>

        <!--Section/Row of the TitleBar it contains a TextBlock for the windows title and the close button-->
        <!--The CloseButtonStyle and Color Styles are located in the DynamoModer.xaml file-->
        <Grid x:Name="TitleBar" 
                Grid.Row="0"  
                MouseDown="PreferencesPanel_MouseDown"
                VerticalAlignment="Top" 
                Margin="0" >
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="46" />
            </Grid.ColumnDefinitions>
            <TextBlock x:Name="HeaderTitle" 
                       Text="{x:Static p:Resources.PreferencesViewTitle}"        
                       Foreground="{StaticResource PreferencesWindowFontColor}" 
                       Grid.Column="0" 
                       Margin="25,10,0,0" 
                       TextAlignment="Left" 
                       FontSize="17" 
                       FontFamily="Helvetica" 
                       HorizontalAlignment="Left" 
                       Width="459" />
            <StackPanel Grid.Column="1" 
                        VerticalAlignment="Top"
                        Orientation="Horizontal" 
                        HorizontalAlignment="Right">
                <Button x:Name="CloseButton"
                        Style="{DynamicResource CloseButtonStyle}"
                        Click="CloseButton_Click"
                        VerticalAlignment="Center"
                        KeyboardNavigation.IsTabStop="False"
                        Margin="10,12,20,8"/>
            </StackPanel>
        </Grid>

        <!--Section/Row of the Tabs content, it contains all the tabs left side aligned and the controls in the right section for each tab-->
        <!--The LeftTab Style is located in the DynamoModer.xaml file-->
        <Grid x:Name="TabsContent" 
              Grid.Row="1" >
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <Grid x:Name="ContentGrid" 
                  Grid.Column="0" >
                <Grid.RowDefinitions>
                    <RowDefinition Height="*" />
                </Grid.RowDefinitions>

                <TabControl x:Name="preferencesTabControl"
                            TabStripPlacement="Left" 
                            Background="{StaticResource PreferencesWindowBackgroundColor}">
                    
                    <!--General Tab-->
                    <TabItem Header="{x:Static p:Resources.PreferencesViewGeneralTab}"
                             Style="{StaticResource LeftTab}">

                        <ScrollViewer VerticalScrollBarVisibility="Auto" 
                                              Height="Auto">
                            <!--This Grid contains controls for selecting the Language-->
                            <Grid x:Name="GeneralTab" 
                              Margin="4 0 0 0"
                              HorizontalAlignment="Left">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto" />
                                    <RowDefinition Height="Auto" />
                                    <RowDefinition Height="Auto" />
                                    <RowDefinition Height="Auto" />
                                    <RowDefinition Height="Auto" />
                                    <RowDefinition Height="Auto" />
                                    <RowDefinition Height="Auto" />
                                </Grid.RowDefinitions>

                                <!--The first Grid Row will contain the Language label and combobox added in a StackPanel vertical-->
                                <Grid Grid.Row="0" 
                                  Margin="4,0,0,20">
                                    <StackPanel Orientation="Vertical">
                                        <Label  Content="{x:Static p:Resources.PreferencesViewLanguageLabel}" 
                                            Margin="-3,0,10,0"
                                            Grid.Row="0"
                                            FontWeight="Bold"
                                            Foreground="{StaticResource PreferencesWindowFontColor}"/>
                                        <ComboBox Grid.Row="1" 
                                              Width="213"
                                              HorizontalAlignment="Left"
                                              ItemsSource="{Binding Path=LanguagesList}"
                                              SelectedItem="{Binding Path=SelectedLanguage}"
                                              Style="{StaticResource NoBordersComboBoxStyle}"
                                              IsEnabled="False">
                                        </ComboBox>
                                    </StackPanel>
                                </Grid>

                                <!--This Grid contains controls for selecting Run Settings options-->
                                <Grid Grid.Row="1"
                                  Margin="4,0,0,20">
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto" />
                                        <RowDefinition Height="*" />
                                    </Grid.RowDefinitions>
                                    <WrapPanel Grid.Row="0">
                                        <Label 
                                           Margin="-3,0,10,0"
                                           FontWeight="Bold"
                                           Content="{x:Static p:Resources.PreferencesViewRunSettingsLabel}" 
                                           Foreground="{StaticResource PreferencesWindowFontColor}"/>
                                        <Label HorizontalAlignment="Left"
                                                   Name="RunSettingsInfoLabel"
                                                   VerticalAlignment="Center" 
                                                   Height="26" 
                                                   Width="53"
                                                   Margin="0 3 0 0">
                                            <Image
                                               Margin="-5,0,0,0"
                                               Width="14"
                                               Height="14"
                                               HorizontalAlignment="Center"
                                               VerticalAlignment="Center"
                                               Style="{StaticResource QuestionIcon}"
                                               ToolTipService.ShowDuration="30000">
                                                <Image.ToolTip>
                                                    <ToolTip Content="{x:Static p:Resources.PreferencesViewDefaultRunSettingsInfoTooltip}" Style="{StaticResource GenericToolTipLight}"/>
                                                </Image.ToolTip>
                                            </Image>                                            
                                        </Label>
                                    </WrapPanel>
                                    <Grid Grid.Row="1">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="Auto"/>
                                        </Grid.ColumnDefinitions>
                                        <RadioButton Grid.Column="0" 
                                                 MinWidth="80"
                                                 Margin="2,0,0,0"
                                                 Style="{StaticResource RunSettingsRadioButtons}"
                                                 IsChecked="{Binding Path=RunSettingsIsChecked, Converter={StaticResource BinaryRadioButtonCheckedConverter},ConverterParameter=True}"
                                                 Content="{x:Static p:Resources.Manual}"/>
                                        <RadioButton Grid.Column="1" 
                                                 MinWidth="80"
                                                 Style="{StaticResource RunSettingsRadioButtons}"
                                                 IsChecked="{Binding Path=RunSettingsIsChecked, Converter={StaticResource BinaryRadioButtonCheckedConverter},ConverterParameter=False}"
                                                 Content="{x:Static p:Resources.Automatic}"/>
                                    </Grid>
                                </Grid>

                                <!--This Grid contains controls for selecting Run Preview options-->
                                <Grid Grid.Row="2"
                                  Margin="4,0,0,20">
                                    <Grid>
                                        <Grid.ToolTip>
                                            <ToolTip Content="{x:Static p:Resources.PreferencesViewShowRunPreviewTooltip}" Style="{StaticResource GenericToolTipLight}"/>
                                        </Grid.ToolTip>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="*"/>
                                        </Grid.ColumnDefinitions>
                                        <ToggleButton Width="{StaticResource ToggleButtonWidth}"
                                                  Height="{StaticResource ToggleButtonHeight}"
                                                  VerticalAlignment="Center"
                                                  Margin="2,0,0,0"
                                                  Grid.Column="0" 
                                                  IsEnabled="{Binding Path=RunPreviewEnabled}"
                                                  IsChecked="{Binding Path=RunPreviewIsChecked}"
                                                  Style="{StaticResource EllipseToggleButton1}"/>
                                        <Label Grid.Column="1"
                                           Content="{x:Static p:Resources.DynamoViewSettingShowRunPreview}"
                                           Foreground="{StaticResource PreferencesWindowFontColor}"/>
                                    </Grid>
                                </Grid>

                                <!--This Grid contains controls for selecting Static Splash Screen Display options-->
                                <Grid Grid.Row="3"
                                  Margin="4,0,0,20">
                                    <Grid>
                                        <Grid.ToolTip>
                                            <ToolTip Content="{x:Static p:Resources.PreferencesViewShowStaticSplashScreenTooltip}" Style="{StaticResource GenericToolTipLight}"/>
                                        </Grid.ToolTip>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="*"/>
                                        </Grid.ColumnDefinitions>
                                        <ToggleButton Width="{StaticResource ToggleButtonWidth}"
                                                  Height="{StaticResource ToggleButtonHeight}"
                                                  VerticalAlignment="Center"
                                                  Margin="2,0,0,0"
                                                  Grid.Column="0" 
                                                  IsEnabled="True"
                                                  IsChecked="{Binding Path=StaticSplashScreenEnabled}"
                                                  Style="{StaticResource EllipseToggleButton1}"/>
                                        <Label Grid.Column="1"
                                           Content="{x:Static p:Resources.DynamoViewSettingShowStaticSplashScreen}"
                                           Foreground="{StaticResource PreferencesWindowFontColor}"/>
                                    </Grid>
                                </Grid>

                                <!--This Grid contains controls for selecting Font Size and Number Format options -->
                                <Grid Grid.Row="4" Margin="4,0,0,20">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*" />
                                        <ColumnDefinition Width="*" />
                                    </Grid.ColumnDefinitions>
                                    <!--Controls for Font Size-->
                                    <Grid Grid.Column="0">
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="Auto" />
                                            <RowDefinition Height="Auto" />
                                        </Grid.RowDefinitions>
                                        <Label Name="FontSize"
                                               Grid.Row="0"
                                               Margin="-3,0,10,0"
                                               FontWeight="Bold"
                                               Content="{x:Static p:Resources.PreferencesViewFontSizeLabel}" 
                                               Foreground="{StaticResource PreferencesWindowFontColor}"/>
                                        <ComboBox Grid.Row="1"
                                                  HorizontalAlignment="Left"
                                                  Margin="2,0,0,0"
                                                  ItemsSource="{Binding FontSizeList}"
                                                  SelectedItem="{Binding Path=SelectedFontSize}"
                                                  Style="{StaticResource NoBordersComboBoxStyle}"
                                                  IsEnabled="False">
                                        </ComboBox>
                                    </Grid>
                                    
                                    <!-- Controls for Number Format options-->
                                    <Grid Grid.Column="1">
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="Auto" />
                                            <RowDefinition Height="Auto" />
                                        </Grid.RowDefinitions>
                                        <Label Grid.Row="0"
                                               Content="{x:Static p:Resources.DynamoViewSettingMenuNumberFormat}" 
                                               Margin="-3,0,10,0"
                                               FontWeight="Bold"
                                               Foreground="{StaticResource PreferencesWindowFontColor}"/>
                                        <ComboBox Name="numberFormatCmb"
                                                  Grid.Row="1" 
                                                  HorizontalAlignment="Left"
                                                  Margin="2,0,0,0"
                                                  SelectedItem="{Binding Path=SelectedNumberFormat, Converter={StaticResource NumberFormatConverter}}"
                                                  ItemsSource="{Binding NumberFormatList}"
                                                  Style="{StaticResource NoBordersComboBoxStyle}">
                                        </ComboBox>
                                    </Grid>
                                </Grid>

                                <!--This Grid contains controls for backup files time interval and maximum number of recent files-->
                                <Grid Grid.Row="5" Margin="4,0,0,20">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*" />
                                        <ColumnDefinition Width="*" />
                                    </Grid.ColumnDefinitions>
                                    <!--Controls for backup files time interval-->
                                    <Grid Grid.Column="0">
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="Auto" />
                                            <RowDefinition Height="Auto" />
                                        </Grid.RowDefinitions>
                                        <Label Grid.Row="0"
                                               Content="{x:Static p:Resources.PreferencesSettingBackupInterval}" 
                                               Margin="-3,0,10,0"
                                               FontWeight="Bold"
                                               Foreground="{StaticResource PreferencesWindowFontColor}"/>
                                        <Grid Grid.Row="1">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="Auto" />
                                                <ColumnDefinition Width="Auto" />
                                            </Grid.ColumnDefinitions>
                                            <TextBox Name="NumberTextBox"
                                                     Grid.Column="0"
                                                     HorizontalAlignment="Left"
                                                     Margin="2,0,0,0"
                                                     MinWidth="25"
                                                     Height="20"
                                                     FontWeight="Regular"
                                                     Text="{Binding BackupIntervalInMinutes}"
                                                     Background="{StaticResource PreferencesWindowBackgroundColor}"
                                                     Foreground="{StaticResource PreferencesWindowFontColor}"
                                                     BorderThickness="0,0,0,2"
                                                     PreviewTextInput="NumberValidationTextBox"/>
                                            <Label Grid.Column="1"
                                                   FontWeight="Regular"
                                                   Content="{x:Static p:Resources.BackupInternalUnit}"
                                                   Foreground="{StaticResource PreferencesWindowFontColor}"/>
                                        </Grid>
                                    </Grid>

                                    <!-- Controls for maximum number of recent files -->
                                    <Grid Grid.Column="1">
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="Auto" />
                                            <RowDefinition Height="Auto" />
                                        </Grid.RowDefinitions>
                                        <Label Grid.Row="0"
                                               Content="{x:Static p:Resources.PreferencesSettingMaxRecentFiles}" 
                                               Margin="-3,0,10,0"
                                               FontWeight="Bold"
                                               Foreground="{StaticResource PreferencesWindowFontColor}"/>
                                        <TextBox Name="NumberBox"
                                                 Grid.Row="1"
                                                 HorizontalAlignment="Left"
                                                 Margin="2,0,0,0"
                                                 MinWidth="25"
                                                 Height="20"
                                                 FontWeight="Regular"
                                                 Text="{Binding MaxNumRecentFiles}"
                                                 Background="{StaticResource PreferencesWindowBackgroundColor}"
                                                 Foreground="{StaticResource PreferencesWindowFontColor}"
                                                 BorderThickness="0,0,0,2"
                                                 PreviewTextInput="NumberValidationTextBox"/>
                                        <Image Name="RecentFileNumberInfoIcon"
                                               Grid.Row="1"
                                               Width="14"
                                               Height="14"
                                               Margin="30,0,0,0"
                                               HorizontalAlignment="Left"
                                               VerticalAlignment="Center"
                                               Style="{StaticResource QuestionIcon}">
                                            <Image.ToolTip>
                                                <ToolTip Content="{x:Static p:Resources.RecentFileNumberInfo}" Style="{StaticResource GenericToolTipLight}"/>
                                            </Image.ToolTip>
                                        </Image>
                                    </Grid>
                                </Grid>

                                <!--Geometry Scaling Expander-->
                                <Grid Grid.Row="6"
                                  Margin="-3,0,1,20">
                                    <Expander x:Name="Scale"
                                      Grid.Row="1" 
                                      Style="{StaticResource MenuExpanderStyle}"
                                      IsExpanded="{Binding PreferencesTabs[VisualSettings].ExpanderActive, Converter={StaticResource ExpandersBindingConverter}, ConverterParameter=Scale}"
                                      Header="{x:Static p:Resources.PreferencesViewVisualSettingsGeoScaling}">
                                        <StackPanel x:Name="GeometryScalingRadiosPanel"
                                            Width="380"
                                            HorizontalAlignment="Left"
                                            VerticalAlignment="Top">
                                            <RadioButton x:Name="RadioSmall"
                                                GroupName="GeometryScaling"
                                                MinWidth="80"
                                                Margin="3,10,0,0"
                                                IsChecked="{Binding DefaultGeometryScaling, Converter={StaticResource RadioButtonCheckedConverter}, ConverterParameter={x:Static viewModels:GeometryScaleSize.Small}}"
                                                Style="{StaticResource GeometryScaleRadioButtons}"
                                                Content="{x:Static p:Resources.ScalingSmallButton}"/>
                                            <TextBlock x:Name="RadioSmallDesc"
                                                Margin="25,5,0,0"
                                                Style="{StaticResource GeometryScaleDescTextBox}"
                                                Visibility="{Binding IsChecked, ElementName=RadioSmall, Converter={StaticResource BooleanToVisibilityConverter}}"/>
                                            <RadioButton x:Name="RadioMedium"
                                                 GroupName="GeometryScaling"
                                                 Margin="3,10,0,0"
                                                 MinWidth="80"
                                                 IsChecked="{Binding DefaultGeometryScaling, Converter={StaticResource RadioButtonCheckedConverter}, ConverterParameter={x:Static viewModels:GeometryScaleSize.Medium}}"
                                                 Style="{StaticResource GeometryScaleRadioButtons}"
                                                 Content="{x:Static p:Resources.ScalingMediumButton}"/>
                                            <TextBlock  x:Name="RadioMediumDesc"
                                                Margin="25,5,0,0"
                                                Style="{StaticResource GeometryScaleDescTextBox}"
                                                Visibility="{Binding IsChecked, ElementName=RadioMedium, Converter={StaticResource BooleanToVisibilityConverter}}"/>
                                            <RadioButton x:Name="RadioLarge" 
                                                 GroupName="GeometryScaling"
                                                 MinWidth="80"
                                                 Margin="3,10,0,0"
                                                 IsChecked="{Binding DefaultGeometryScaling, Converter={StaticResource RadioButtonCheckedConverter}, ConverterParameter={x:Static viewModels:GeometryScaleSize.Large}}"
                                                 Style="{StaticResource GeometryScaleRadioButtons}"
                                                 Content="{x:Static p:Resources.ScalingLargeButton}"/>
                                            <TextBlock  x:Name="RadioLargeDesc"
                                                Margin="25,5,0,0"
                                                Style="{StaticResource GeometryScaleDescTextBox}"
                                                Visibility="{Binding IsChecked, ElementName=RadioLarge, Converter={StaticResource BooleanToVisibilityConverter}}"/>
                                            <RadioButton x:Name="RadioExtraLarge"
                                                 GroupName="GeometryScaling"
                                                 MinWidth="80"
                                                 Margin="3,10,0,0"
                                                 IsChecked="{Binding DefaultGeometryScaling, Converter={StaticResource RadioButtonCheckedConverter}, ConverterParameter={x:Static viewModels:GeometryScaleSize.ExtraLarge}}"
                                                 Style="{StaticResource GeometryScaleRadioButtons}"
                                                 Content="{x:Static p:Resources.ScalingExtraLargeButton}"/>
                                            <TextBlock  x:Name="RadioExtraLargeDesc"
                                                Margin="25,5,0,0"
                                                Style="{StaticResource GeometryScaleDescTextBox}"
                                                Visibility="{Binding IsChecked, ElementName=RadioExtraLarge, Converter={StaticResource BooleanToVisibilityConverter}}"/>
                                        </StackPanel>
                                    </Expander>
                                </Grid>
                            </Grid>
                        </ScrollViewer>
                    </TabItem>
                    
                    <!--Features Tab-->
                    <TabItem Header="{x:Static p:Resources.PreferencesViewFeaturesTab}"
                             Style="{StaticResource LeftTab}">
                        <!--This Grid contains the features tab-->
                        <Grid x:Name="FeaturesTab" 
                              Margin="1"
                              HorizontalAlignment="Stretch">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                            </Grid.RowDefinitions>

                            <!--This Grid row contains the Python section-->
                            <Expander x:Name="PythonExpander"
                                        Grid.Row="0"
                                        Style="{StaticResource MenuExpanderStyle}" 
                                        IsExpanded="{Binding PreferencesTabs[Features].ExpanderActive, Converter={StaticResource ExpandersBindingConverter}, ConverterParameter=PythonExpander}"
                                        Header="{x:Static p:Resources.PreferencesViewPython}">
                                <StackPanel Orientation="Vertical" Margin="0,6,0,0">
                                    <Label  Content="{x:Static p:Resources.PreferencesViewDefaultPythonEngine}" 
                                            Padding="0,5,5,5"
                                            FontSize="13"
                                            Foreground="{StaticResource PreferencesWindowFontColor}"/>
                                    <ComboBox Name="PythonEngineManager" 
                                                Width="213"
                                                HorizontalAlignment="Left"
                                                ItemsSource="{Binding Path=PythonEnginesList}"
                                                SelectedItem="{Binding Path=SelectedPythonEngine}"
                                                Style="{StaticResource NoBordersComboBoxStyle}">
                                    </ComboBox>
                                    
                                    <!-- Python Template File Path -->
                                    <StackPanel Orientation="Vertical" Margin="0,12,0,5">
                                        <Label  Content="{x:Static p:Resources.PreferencesSettingCustomPythomTemplate}" 
                                                Padding="0,5,5,5"
                                                FontSize="13"
                                                Foreground="{StaticResource PreferencesWindowFontColor}"/>
                                        <Button x:Name="AddPaths"
                                                HorizontalAlignment="Left"
                                                Margin="0"
                                                Visibility="{Binding PythonTemplateFilePath, Converter={StaticResource NonEmptyStringToCollapsedConverter}}"
                                                Content="{x:Static p:Resources.AddFilePathButtonName}"
                                                Command="{Binding Path=AddPythonPathCommand}">
                                            <Button.ToolTip>
                                                <ToolTip Content="{x:Static p:Resources.PythonTemplateAddPathTooltip}" Style="{StaticResource GenericToolTipLight}"/>
                                            </Button.ToolTip>
                                            <Button.Style>
                                                <Style BasedOn="{StaticResource SolidButtonStyle}" TargetType="{x:Type Button}">
                                                    <Setter Property="IsEnabled" Value="True"/>
                                                </Style>
                                            </Button.Style>
                                        </Button>
                                        <Grid Visibility="{Binding PythonTemplateFilePath, Converter={StaticResource EmptyStringToCollapsedConverter}}">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition MaxWidth="250"></ColumnDefinition>
                                                <ColumnDefinition Width="Auto"></ColumnDefinition>
                                                <ColumnDefinition Width="Auto"></ColumnDefinition>
                                            </Grid.ColumnDefinitions>
                                            <TextBlock x:Name="PathTextBlock" Style="{StaticResource DarkTextBlock}" 
                                                       Text="{Binding PythonTemplateFilePath}"
                                                       Grid.Column="0"
                                                       Margin="0,4,7,4"
                                                       FontWeight="Regular"
                                                       Background="{StaticResource PreferencesWindowItemDarkerBackgroundColor}"
                                                       MinHeight="24"
                                                       Padding="5,5,5,5"
                                                       Foreground="{StaticResource PreferencesWindowFontColor}"/>
                                            <Button Grid.Column="1"
                                                    Margin="7,7,7,7"
                                                    x:Name="UpdatePathButton"
                                                    Command="{Binding Path=UpdatePythonPathCommand}"
                                                    CommandParameter="{Binding}"
                                                    ToolTipService.ShowOnDisabled="True"
                                                    Background="{StaticResource PreferencesWindowBackgroundColor}"
                                                    Style="{StaticResource EditFolderButtonStyle}">
                                                <Button.ToolTip>
                                                    <ToolTip Content="{x:Static p:Resources.PackagePathUpdatePathTooltip}" Style="{StaticResource GenericToolTipLight}"/>
                                                </Button.ToolTip>
                                            </Button>
                                            <Button x:Name="DeletePathButton"
                                                    Grid.Column="2"
                                                    Margin="7,7,7,7"
                                                    Command="{Binding Path=DeletePythonPathCommand}"
                                                    ToolTipService.ShowOnDisabled="True"
                                                    Background="{StaticResource PreferencesWindowBackgroundColor}"
                                                    Style="{StaticResource CloseButtonStyle}">
                                                <Button.ToolTip>
                                                    <ToolTip Content="{x:Static p:Resources.PackagePathViewToolTipMinus}" Style="{StaticResource GenericToolTipLight}"/>
                                                </Button.ToolTip>
                                            </Button>
                                        </Grid>
                                    </StackPanel>
                                    
                                    <Grid>
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="Auto"/>
                                        </Grid.RowDefinitions>
                                        <StackPanel Orientation="Horizontal" Margin="0,12,0,0" Grid.Row="0">
                                            <ToggleButton Name="IronPythonAlertsToggle"
                                                            Width="{StaticResource ToggleButtonWidth}"
                                                            Height="{StaticResource ToggleButtonHeight}"
                                                            VerticalAlignment="Center"
                                                            IsChecked="{Binding Path=HideIronPythonAlertsIsChecked}"
                                                            Style="{StaticResource EllipseToggleButton1}"/>
                                            <Label Content="{x:Static p:Resources.PreferencesViewIsIronPythonDialogDisabled}" 
                                                    Margin="10,0,0,0"
                                                    VerticalAlignment="Center"
                                                    Foreground="{StaticResource PreferencesWindowFontColor}"/>
                                        </StackPanel>

                                        <StackPanel Orientation="Horizontal" Margin="0,12,0,0" Grid.Row="1">
                                            <ToggleButton Name="ShowWhitespaceToggle"
                                                            Width="{StaticResource ToggleButtonWidth}"
                                                            Height="{StaticResource ToggleButtonHeight}"
                                                            VerticalAlignment="Center"
                                                            IsChecked="{Binding Path=ShowWhitespaceIsChecked}"
                                                            Style="{StaticResource EllipseToggleButton1}"/>
                                            <Label Content="{x:Static p:Resources.PreferencesViewShowWhitespaceInPythonEditor}" 
                                                    VerticalAlignment="Center"
                                                    Margin="10,0,0,0"
                                                    Foreground="{StaticResource PreferencesWindowFontColor}"/>
                                        </StackPanel>
                                    </Grid>
                                    <!-- Reset CPython -->
                                    <Button x:Name="ReloadCPython"
                                                Style="{StaticResource SolidButtonStyle}" 
                                                HorizontalAlignment="Left"                                             
                                                Grid.Row="0"
                                                Margin="0,10,0,0"
                                                Click="ReloadCPython_Click"
                                                Content="{x:Static p:Resources.ResetCPythonButtonText}">
                                        <Button.ToolTip>
                                            <ToolTip Content="{x:Static p:Resources.ResetCPythonButtonToolTip}" Style="{StaticResource GenericToolTipLight}"/>
                                        </Button.ToolTip>
                                    </Button>
                                    
                                </StackPanel>
                            </Expander>

                            <!--This Grid row contains the Notification Center section-->
                            <Expander x:Name="NotificationCenterExpander" 
                                      Style="{StaticResource MenuExpanderStyle}" 
                                      IsExpanded="{Binding PreferencesTabs[Features].ExpanderActive, Converter={StaticResource ExpandersBindingConverter}, ConverterParameter=NotificationCenterExpander}"
                                      Grid.Row="1"
                                      Header="{x:Static p:Resources.PreferencesViewNotificationCenter}">
                                <Grid>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto"/>
                                    </Grid.RowDefinitions>

                                    <StackPanel Orientation="Horizontal" Margin="0,12,0,0" Grid.Row="0">
                                        <ToggleButton Name="NotificationCenterToggle"
                                                      Width="{StaticResource ToggleButtonWidth}"
                                                      Height="{StaticResource ToggleButtonHeight}"
                                                      VerticalAlignment="Center"
                                                      IsChecked="{Binding Path=NotificationCenterIsChecked}"
                                                      Style="{StaticResource EllipseToggleButton1}"/>
                                        <Label Content="{x:Static p:Resources.PreferencesViewEnableNotificationCenter}" 
                                                   Margin="10,0,0,0"
                                                   VerticalAlignment="Center"
                                                   Foreground="{StaticResource PreferencesWindowFontColor}"/>
                                    </StackPanel>
                                </Grid>
                            </Expander>

                            <!--This Grid row contains the Node Autocomplete section-->
                            <Expander x:Name="NodeAutocompleteExpander" 
                                      Style="{StaticResource MenuExpanderStyle}" 
                                      IsExpanded="{Binding PreferencesTabs[Features].ExpanderActive, Converter={StaticResource ExpandersBindingConverter}, ConverterParameter=NodeAutocompleteExpander}"
                                      Grid.Row="2"
                                      Header="{x:Static p:Resources.PreferencesViewNodeAutocomplete}">
                                <Grid>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                    </Grid.RowDefinitions>

                                    <StackPanel Orientation="Horizontal" Margin="0,12,0,0" Grid.Row="0">
                                        <ToggleButton Name="NodeAutocompleteToggle"
                                                      Width="{StaticResource ToggleButtonWidth}"
                                                      Height="{StaticResource ToggleButtonHeight}"
                                                      VerticalAlignment="Center"
                                                      IsChecked="{Binding Path=NodeAutocompleteIsChecked}"
                                                      Style="{StaticResource EllipseToggleButton1}"/>
                                        <Label Content="{x:Static p:Resources.PreferencesViewEnableNodeAutoComplete}"
                                               FontWeight="Normal"
                                               Margin="10,0,0,0"
                                               VerticalAlignment="Center"
                                               Foreground="{StaticResource PreferencesWindowFontColor}"/>
                                        <Image Name="MLNodeAutocompleteToolTip"
                                               Margin="5,3,0,0"
                                               Width="14"
                                               Height="14"
                                               HorizontalAlignment="Center"
                                               VerticalAlignment="Center"
                                               Style="{StaticResource QuestionIconClickable}"
                                               MouseDown="OnMoreInfoClicked"
                                               ToolTipService.ShowDuration="30000">
                                            <Image.ToolTip>
                                                <ToolTip Content="{x:Static p:Resources.PreferencesViewEnableNodeAutoCompleteTooltipText}" Style="{StaticResource GenericToolTipLight}"/>
                                            </Image.ToolTip>
                                        </Image>
                                    </StackPanel>

                                    <StackPanel Orientation="Horizontal" Margin="0,-5,0,0" Grid.Row="1">
                                        <!-- This Grid contains controls for selecting the Node autocomplete method -->
                                        <Grid Margin="60,0,0,0">
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="Auto" />
                                                <RowDefinition Height="*" />
                                                <RowDefinition Height="*" />
                                            </Grid.RowDefinitions>
                                            <Label Grid.Row="0"
                                                Margin="-8,15,10,3"                                               
                                                Content="{x:Static p:Resources.PreferencesNodeAutocompleteMethod}" 
                                                Foreground="{StaticResource PreferencesWindowFontColor}"/>
                                            <Grid Grid.Row="1">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition x:Name="colObjectType" Width="Auto"/>
                                                    <ColumnDefinition x:Name="colMachineLearning" Width="Auto"/>
                                                    <ColumnDefinition x:Name="colMLbetaTag" Width="Auto"/>
                                                </Grid.ColumnDefinitions>
                                                <RadioButton Grid.Column="0" 
                                                     MinWidth="90"
                                                     Margin="-3,0,20,0"
                                                     Style="{StaticResource RunSettingsRadioButtons}"
                                                     IsChecked="{Binding Path=NodeAutocompleteMachineLearningIsChecked, Converter={StaticResource BinaryRadioButtonCheckedConverter},ConverterParameter=False}"
                                                     Content="{x:Static p:Resources.ObjectType}"
                                                     IsEnabled="{Binding Path=NodeAutocompleteIsChecked}"/>
                                                <RadioButton Grid.Column="1" 
                                                     MinWidth="90"
                                                     Style="{StaticResource RunSettingsRadioButtons}"
                                                     IsChecked="{Binding Path=NodeAutocompleteMachineLearningIsChecked, Converter={StaticResource BinaryRadioButtonCheckedConverter},ConverterParameter=True}"
                                                     Content="{x:Static p:Resources.RecommendedNodes}"
                                                     IsEnabled="{Binding Path=NodeAutocompleteIsChecked}"/>
                                                <!--Beta tag-->
                                                <Label Grid.Column="2"
                                                    Name="NodeRecommendationBetaTag"
                                                    Content="{x:Static p:Resources.PreferencesViewBetaTag}"
                                                    Background="{StaticResource SecondaryGray}"
                                                    Foreground="{StaticResource PreferencesWindowFontColor}"
                                                    Margin="10,-5,0,0"
                                                    FontSize="10"
                                                    FontWeight="SemiBold"
                                                    Visibility="{Binding NodeAutocompleteMachineLearningIsBeta, Converter={StaticResource BooleanToVisibilityConverter}}">
                                                <Label.Resources>
                                                        <Style TargetType="Border">
                                                            <Setter Property="CornerRadius" Value="10"></Setter>
                                                        </Style>
                                                    </Label.Resources>
                                                </Label>
                                            </Grid>
                                            <Grid Grid.Row="2">
                                                <Grid.RowDefinitions>
                                                    <RowDefinition Height="*" />
                                                    <RowDefinition Height="*" />
                                                    <RowDefinition Height="*" />
                                                    <RowDefinition Height="*" />
                                                </Grid.RowDefinitions>
                                                <StackPanel Margin="-10,5,0,0" Orientation="Horizontal" Grid.Row="0">
                                                    <Label Content="{x:Static p:Resources.MLRecommendationNumberOfResults}"
                                                        VerticalAlignment="Center"
                                                        Foreground="{StaticResource PreferencesWindowFontColor}"
                                                        FontWeight="Normal"/>
                                                    <TextBox Name="MLRecommendationResultsNumber"                                                        
                                                        HorizontalAlignment="Left"
                                                        Margin="2,0,0,0"
                                                        MinWidth="25"
                                                        Height="20"
                                                        FontWeight="Regular"
                                                        Text="{Binding MLRecommendationNumberOfResults}"
                                                        Background="{StaticResource PreferencesWindowBackgroundColor}"
                                                        Foreground="{StaticResource PreferencesWindowFontColor}"
                                                        BorderThickness="0,0,0,2"
                                                        PreviewTextInput="NumberValidationTextBox"
                                                        IsEnabled="{Binding Path=NodeAutocompleteMachineLearningIsChecked}"/>
                                                </StackPanel>
                                                <StackPanel Margin="-60,10,0,0" Orientation="Horizontal" Grid.Row="1">
                                                    <ToggleButton Name="MLRecommendationConfidenceThresholdToogle"
                                                        Width="{StaticResource ToggleButtonWidth}"
                                                        Height="{StaticResource ToggleButtonHeight}"
                                                        VerticalAlignment="Center"
                                                        IsChecked="{Binding Path=HideNodesBelowSpecificConfidenceLevelIsChecked}"
                                                        Style="{StaticResource EllipseToggleButton1}"
                                                        IsEnabled="{Binding Path=EnableHideNodesToggle}"/>
                                                    <Label Content="{x:Static p:Resources.HideNodesBelowSpecificConfidenceLevel}" 
                                                        Margin="10,0,0,0"
                                                        VerticalAlignment="Center"
                                                        Foreground="{StaticResource PreferencesWindowFontColor}"
                                                        FontWeight="Regular"/>
                                                    <Image Name="MLRecommendationConfidenceThresholdToolTip"
                                                        Margin="5,3,0,0"
                                                        Width="14"
                                                        Height="14"
                                                        HorizontalAlignment="Center"
                                                        VerticalAlignment="Center"
                                                        Style="{StaticResource QuestionIcon}"
                                                        ToolTipService.ShowDuration="30000">
                                                        <Image.ToolTip>
                                                            <ToolTip Content="{x:Static p:Resources.HideNodesBelowSpecificConfidenceLevelInfo}" Style="{StaticResource GenericToolTipLight}"/>
                                                        </Image.ToolTip>
                                                    </Image>
                                                </StackPanel>
                                                <StackPanel Margin="-10,5,0,0" Orientation="Horizontal" Grid.Row="2">
                                                    <Label Content="0%"
                                                        Name="lblConfidenceLevelLabelStart"
                                                        VerticalAlignment="Center"
                                                        Foreground="{StaticResource PreferencesWindowFontColor}"
                                                        FontWeight="Regular"/>
                                                    <Slider Width="300"
                                                        Minimum="0"
                                                        Maximum="100"
                                                        Value="{Binding Path=MLRecommendationConfidenceLevel, Mode=TwoWay}"
                                                        IsEnabled="{Binding Path=EnableConfidenceLevelSlider}"
                                                        ValueChanged="sliderConfidenceLevel_ValueChanged">
                                                    </Slider>
                                                    <Label Content="100%" 
                                                        Margin="0,-5,0,0"
                                                        VerticalAlignment="Center"
                                                        Foreground="{StaticResource PreferencesWindowFontColor}"
                                                        FontWeight="Regular"/>
                                                </StackPanel>
                                                <StackPanel Margin="-10,5,0,0" Orientation="Horizontal" Grid.Row="3">
                                                    <Label
                                                        Name="lblConfidenceLevel"
                                                        Width="30"
                                                        VerticalAlignment="Center"
                                                        HorizontalContentAlignment="Center"
                                                        Foreground="{StaticResource PreferencesWindowFontColor}"
                                                        FontWeight="Regular"
                                                        Content="{Binding Path=MLRecommendationConfidenceLevel, Mode=TwoWay}"/>
                                                </StackPanel>
                                            </Grid>
                                        </Grid>
                                    </StackPanel>
                                </Grid>
                            </Expander>
                            
                            <!--This Grid row contains the Experimental section-->
                            <Expander x:Name="ExperimentalExpander" 
                                      Style="{StaticResource MenuExpanderStyle}" 
                                      IsExpanded="{Binding PreferencesTabs[Features].ExpanderActive, Converter={StaticResource ExpandersBindingConverter}, ConverterParameter=ExperimentalExpander}"
                                      Grid.Row="3"
                                      Header="{x:Static p:Resources.PreferencesViewExperimentalLabel}">
                                <Grid>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto"/>
                                    </Grid.RowDefinitions>

                                    <StackPanel Orientation="Horizontal" Margin="0,12,0,0" Grid.Row="0">
                                        <ToggleButton Name="EnableTSplineToggle"
                                                      Width="{StaticResource ToggleButtonWidth}"
                                                      Height="{StaticResource ToggleButtonHeight}"
                                                      VerticalAlignment="Center"
                                                      IsChecked="{Binding Path=EnableTSplineIsChecked}"
                                                      Style="{StaticResource EllipseToggleButton1}"/>
                                        <StackPanel VerticalAlignment="Center">
                                            <Label Content="{x:Static p:Resources.PreferencesViewEnableTSplineNodes}"
                                                   Padding="5,5,5,0"
                                                   Margin="10,0,0,0"
                                                   Foreground="{StaticResource PreferencesWindowFontColor}"/>
                                            <Label Content="{x:Static p:Resources.PreferencesViewRequiresRelaunchOfDynamo}" 
                                                   FontSize="10"
                                                   Margin="10,0,0,0"
                                                   Padding="5,0,5,5"
                                                   Foreground="{StaticResource PreferencesWindowFontColor}"/>
                                        </StackPanel>
                                    </StackPanel>
                                </Grid>
                            </Expander>
                        </Grid>
                    </TabItem>
                    
                    <!--Visual Settings Tab-->
                    <TabItem Header="{x:Static p:Resources.PreferencesViewVisualSettingsTab}"
                             Style="{StaticResource LeftTab}">
                        <Grid x:Name="VisualSettingsTab" 
                              Background="{StaticResource PreferencesWindowVisualSettingsBackground}"
                              HorizontalAlignment="Left"
                              Margin="1">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                            </Grid.RowDefinitions>
                            <!--Group Styles Expander-->
                            <Expander x:Name="Styles"
                                      Grid.Row="0"
                                      IsExpanded="{Binding PreferencesTabs[VisualSettings].ExpanderActive, Converter={StaticResource ExpandersBindingConverter}, ConverterParameter=Styles}"
                                      Header="{x:Static p:Resources.PreferencesViewVisualSettingsGroupStyles}"
                                      Style="{StaticResource MenuExpanderStyle}"
                                      Visibility="Visible">
                                <ScrollViewer VerticalScrollBarVisibility="Auto" 
                                              x:Name="GroupStyleScrollViewer"                                              
                                              PreviewMouseWheel="ScrollViewer_PreviewMouseWheel"
                                              MaxHeight="260">
                                    <Grid Margin="0,0,0,-2">
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="Auto" />
                                            <RowDefinition Height="Auto" />
                                            <RowDefinition Height="Auto" />
                                        </Grid.RowDefinitions>
                                        <Button x:Name="AddStyleButton"
                                                Style="{StaticResource SolidButtonStyleSmaller}"      
                                                HorizontalAlignment="Left"
                                                Grid.Row="0"
                                                MaxWidth="120"
                                                MinWidth="100"
                                                Margin="0,5,0,5"
                                                Click="AddStyleButton_Click"
                                                IsEnabled="{Binding IsEnabledAddStyleButton}"
                                                Content="{x:Static p:Resources.AddStyleButton}" />
                                        <Border x:Name="AddStyleBorder"
                                                Visibility="{Binding IsVisibleAddStyleBorder, Converter={StaticResource BooleanToVisibilityConverter}}"
                                                CornerRadius="4"
                                                MinHeight="100"
                                                MinWidth="335"
                                                Margin="3,0,72,5"
                                                Background="{StaticResource PreferencesWindowVisualSettingsAddStyleBackground}"
                                                Grid.Row="1">
                                            <Grid>
                                                <Grid.RowDefinitions>
                                                    <RowDefinition Height="*"></RowDefinition>
                                                    <RowDefinition Height="*"></RowDefinition>
                                                </Grid.RowDefinitions>
                                                <TextBox  x:Name="groupNameBox"
                                                          CaretBrush="{StaticResource PreferencesWindowButtonColor}"                                                          
                                                          PreviewKeyUp="groupNameBox_PreviewKeyUp"
                                                          Style="{StaticResource TextBoxWaterMarkStyle}"
                                                          Grid.Row="0"
                                                          Margin="10"
                                                          MinHeight="25"
                                                          MinWidth="300"
                                                          Text="{Binding AddStyleControl.Name}"
                                                          Tag="{x:Static p:Resources.PreferencesViewVisualSettingsGroupStyleInput}"/>
                                                <Grid Grid.Row="1"
                                                      Margin="10,0,10,0"
                                                      Background="{StaticResource PreferencesWindowVisualSettingsAddStyleBackground}">
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="*"></ColumnDefinition>
                                                        <ColumnDefinition Width="Auto"></ColumnDefinition>
                                                    </Grid.ColumnDefinitions>
                                                    <StackPanel Orientation="Horizontal"
                                                            Height="30"
                                                            Grid.Column="0">
                                                        <Button x:Name="buttonColorPicker"
                                                                Style="{StaticResource ButtonColorPickerStyle}"
                                                                Background="{Binding AddStyleControl.HexColorString, Converter={StaticResource StringToBrushColorConverter}}"
                                                                Click="ButtonColorPicker_Click"
                                                                Width="25" 
                                                                Height="15"/>
                                                        <Label x:Name="colorHexVal" 
                                                                FontSize="13"
                                                                Content="{Binding Background, ElementName=buttonColorPicker, Converter={StaticResource BrushColorToStringConverter}}"
                                                                Foreground="{StaticResource PreferencesWindowFontColor}" Margin="0,0,20,0"/>
                                                        <Image Width="24" Height="24" Margin="0,0,0,0" HorizontalAlignment="Left" VerticalAlignment="Center" Source="/DynamoCoreWpf;component/UI/Images/font-size.png"/>
                                                        <ComboBox x:Name="groupStyleFontSize"
                                                                HorizontalAlignment="Left"
                                                                Margin="2,0,0,0"
                                                                ItemsSource="{Binding RelativeSource={RelativeSource AncestorType=Window},Path=DataContext.GroupStyleFontSizeList}" 
                                                                SelectedItem="{Binding Path=AddStyleControl.FontSize}"
                                                                Style="{StaticResource NoBordersComboBoxStyle}">
                                                        </ComboBox>
                                                    </StackPanel>
                                                    <Grid  Grid.Column="1">
                                                        <Grid.ColumnDefinitions>
                                                            <ColumnDefinition Width="*"></ColumnDefinition>
                                                            <ColumnDefinition Width="*"></ColumnDefinition>
                                                        </Grid.ColumnDefinitions>
                                                        <Button x:Name="AddStyle_SaveButton" 
                                                                Style="{StaticResource OutlinedButtonStyle}"
                                                                Grid.Column="0"
                                                                HorizontalAlignment="Right"
                                                                IsEnabled="{Binding IsSaveButtonEnabled}"
                                                                Click="AddStyle_SaveButton_Click"
                                                                Content="{x:Static p:Resources.GroupStylesSaveButtonText}"
                                                                Height="30"/>
                                                        <Button x:Name="AddStyle_CancelButton" 
                                                                Style="{StaticResource OutlinedButtonStyle}"
                                                                Grid.Column="1"
                                                                HorizontalAlignment="Right"
                                                                Click="AddStyle_CancelButton_Click"
                                                                Content="{x:Static p:Resources.GroupStylesCancelButtonText}"
                                                                Height="30"/>
                                                    </Grid>
                                                </Grid>
                                            </Grid>
                                        </Border>
                                        <ListBox x:Name="GroupStylesListBox"
                                                 HorizontalAlignment="Left"
                                                 BorderBrush="Transparent"
                                                 BorderThickness="1"
                                                 Margin="0"
                                                 Grid.Row="2"
                                                 LostFocus="GroupStylesListBox_LostFocus"
                                                 ItemsSource="{Binding StyleItemsList}"
                                                 ItemTemplate="{StaticResource styleViewItemTemplate}"
                                                 ItemContainerStyle="{StaticResource ListBoxItemStyle}"
                                                 Background="{StaticResource PreferencesWindowVisualSettingsBackground}"
                                                 ScrollViewer.HorizontalScrollBarVisibility="Disabled">
                                            <ListBox.ItemsPanel>
                                                <ItemsPanelTemplate>
                                                    <WrapPanel Orientation="Horizontal"/>
                                                </ItemsPanelTemplate>
                                            </ListBox.ItemsPanel>
                                        </ListBox>
                                    </Grid>
                                </ScrollViewer>
                            </Expander>
                          
                            <!--Render Precision Expander-->
                            <Expander x:Name="Precision"
                                      Grid.Row="1"
                                      Style="{StaticResource MenuExpanderStyle}" 
                                      IsExpanded="{Binding PreferencesTabs[VisualSettings].ExpanderActive, Converter={StaticResource ExpandersBindingConverter}, ConverterParameter=Precision}"
                                      Header="{x:Static p:Resources.PreferencesViewVisualSettingsRenderPrecision}">
                                <Grid>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto"/>
                                    </Grid.RowDefinitions>

                                    <StackPanel Orientation="Horizontal" Grid.Row="0"
                                            Margin="10"
                                            Width="Auto">
                                        <TextBlock Text="{x:Static p:Resources.DynamoViewSettingMenuLowRenderPrecision}"
                                               Margin="0,0,10,0"></TextBlock>
                                        <Slider Width="100"
                                            Minimum="8"
                                            Maximum="512"
                                            Value="{Binding Path=TessellationDivisions, Mode=TwoWay}">
                                        </Slider>
                                        <TextBlock Text="{x:Static p:Resources.DynamoViewSettingMenuHighRenderPrecision}"
                                               Margin="10,0,0,0"></TextBlock>
                                    </StackPanel>
                                </Grid>
                            </Expander>
                            
                            <!--Display Settings Expander-->
                            <Expander x:Name="Display"
                                      Grid.Row="2"
                                      Style="{StaticResource MenuExpanderStyle}" 
                                      IsExpanded="{Binding PreferencesTabs[VisualSettings].ExpanderActive, Converter={StaticResource ExpandersBindingConverter}, ConverterParameter=Display}"
                                      Header="{x:Static p:Resources.PreferencesViewVisualSettingsDisplaySettings}">
                                <Grid>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                    </Grid.RowDefinitions>

                                    <StackPanel Orientation="Horizontal" 
                                                    Margin="0,12,0,0" 
                                                    Grid.Row="0">
                                        <ToggleButton Name="HardwareAcceleration"
                                                              Width="{StaticResource ToggleButtonWidth}"
                                                              Height="{StaticResource ToggleButtonHeight}"
                                                              VerticalAlignment="Center"
                                                              IsChecked="{Binding Path=UseHardwareAcceleration}"
                                                              Style="{StaticResource EllipseToggleButton1}"/>
                                        <Label Content="{x:Static p:Resources.PreferencesSettingHardwareAcceleration}" 
                                                       VerticalAlignment="Center"
                                                       Margin="10,0,0,0"
                                                       Foreground="{StaticResource PreferencesWindowFontColor}"/>
                                        <Label HorizontalAlignment="Left"
                                                   Name="HardwareAccelerationInfoLabel"
                                                   VerticalAlignment="Center" 
                                                   Height="26" 
                                                   Width="53"
                                                   Margin="0 3 0 0">
                                            <Image
                                               Margin="5,3,0,0"
                                               Width="14"
                                               Height="14"
                                               HorizontalAlignment="Center"
                                               VerticalAlignment="Center"
                                               Style="{StaticResource QuestionIcon}"
                                               ToolTipService.ShowDuration="30000">
                                                <Image.ToolTip>
                                                    <ToolTip Content="{x:Static p:Resources.PreferencesWindowHardwareAccelerationTooltip}" Style="{StaticResource GenericToolTipLight}"/>
                                                </Image.ToolTip>
                                            </Image>
                                        </Label>
                                    </StackPanel>
                                    
                                    <StackPanel Orientation="Horizontal" 
                                                Margin="0,12,0,0" 
                                                Grid.Row="1">
                                        <ToggleButton Name="IsolateSelectedGeoToggle"
                                                    Width="{StaticResource ToggleButtonWidth}"
                                                    Height="{StaticResource ToggleButtonHeight}"
                                                    VerticalAlignment="Center"
                                                    IsChecked="{Binding Path=IsolateSelectedGeometry}"
                                                    Style="{StaticResource EllipseToggleButton1}"/>
                                        <Label Content="{x:Static p:Resources.PreferencesViewVisualSettingsIsolateSelectedGeo}" 
                                                Margin="10,0,0,0"
                                                VerticalAlignment="Center"
                                                Foreground="{StaticResource PreferencesWindowFontColor}"/>
                                        <Label HorizontalAlignment="Left"
                                                   Name="IsolateSelectedGeoInfoLabel"
                                                   VerticalAlignment="Center" 
                                                   Height="26" 
                                                   Width="53"
                                                   Margin="0 3 0 0">
                                            <Image 
                                               Margin="5,3,0,0"
                                               Width="14"
                                               Height="14"
                                               HorizontalAlignment="Center"
                                               VerticalAlignment="Center"
                                               Style="{StaticResource QuestionIcon}"
                                               ToolTipService.ShowDuration="30000">
                                                <Image.ToolTip>
                                                    <ToolTip Content="{x:Static p:Resources.PreferencesWindowIsolateSelectedGeoTooltip}" Style="{StaticResource GenericToolTipLight}"/>
                                                </Image.ToolTip>
                                            </Image>
                                        </Label>
                                    </StackPanel>

                                    <StackPanel Orientation="Horizontal" 
                                                Margin="0,12,0,0" 
                                                Grid.Row="2">
                                        <ToggleButton Name="ShowEdgesToggle"
                                                      Width="{StaticResource ToggleButtonWidth}"
                                                      Height="{StaticResource ToggleButtonHeight}"
                                                      VerticalAlignment="Center"
                                                      IsChecked="{Binding Path=ShowEdges}"
                                                      Style="{StaticResource EllipseToggleButton1}"/>
                                        <Label Content="{x:Static p:Resources.PreferencesViewVisualSettingShowEdges}" 
                                               VerticalAlignment="Center"
                                               Margin="10,0,0,0"
                                               Foreground="{StaticResource PreferencesWindowFontColor}"/>
                                        <Label HorizontalAlignment="Left"
                                                   Name="ShowEdgesInfoLabel"
                                                   VerticalAlignment="Center" 
                                                   Height="26" 
                                                   Width="53"
                                                   Margin="0 3 0 0">
                                            <Image
                                               Margin="5,3,0,0"
                                               Width="14"
                                               Height="14"
                                               HorizontalAlignment="Center"
                                               VerticalAlignment="Center"
                                               Style="{StaticResource QuestionIcon}"
                                               ToolTipService.ShowDuration="30000">
                                                <Image.ToolTip>
                                                    <ToolTip Content="{x:Static p:Resources.PreferencesWindowShowEdgesTooltip}" Style="{StaticResource GenericToolTipLight}"/>
                                                </Image.ToolTip>
                                            </Image>
                                        </Label>
                                    </StackPanel>
                                    
                                    <StackPanel Orientation="Horizontal" 
                                                Margin="0,12,0,0" 
                                                Grid.Row="3">
                                        <ToggleButton Name="CodeBlockNodeLineNumbersToggle"
                                                      Width="{StaticResource ToggleButtonWidth}"
                                                      Height="{StaticResource ToggleButtonHeight}"
                                                      VerticalAlignment="Center"
                                                      IsChecked="{Binding Path=ShowCodeBlockLineNumber}"
                                                      Style="{StaticResource EllipseToggleButton1}"/>
                                        <Label Content="{x:Static p:Resources.PreferencesViewShowCodeBlockNodeLineNumber}" 
                                               VerticalAlignment="Center"
                                               Margin="10,0,0,0"
                                               Foreground="{StaticResource PreferencesWindowFontColor}"/>
                                        <Label HorizontalAlignment="Left"
                                                   Name="ShowCodeBlockNodeLineNumberInfoLabel"
                                                   VerticalAlignment="Center" 
                                                   Height="26" 
                                                   Width="53"
                                                   Margin="0 3 0 0">
                                            <Image
                                               Margin="5,3,0,0"
                                               Width="14"
                                               Height="14"
                                               HorizontalAlignment="Center"
                                               VerticalAlignment="Center"
                                               Style="{StaticResource QuestionIcon}"
                                               ToolTipService.ShowDuration="30000">
                                                <Image.ToolTip>
                                                    <ToolTip Content="{x:Static p:Resources.PreferencesWindowShowCodeBlockNodeLineNumberTooltip}" Style="{StaticResource GenericToolTipLight}"/>
                                                </Image.ToolTip>
                                            </Image>
                                        </Label>
                                    </StackPanel>

                                    <StackPanel Orientation="Horizontal" 
                                                Margin="0,12,0,0" 
                                                Grid.Row="4">
                                        <ToggleButton Name="ShowPreviewBubblesToggle"
                                                      Width="{StaticResource ToggleButtonWidth}"
                                                      Height="{StaticResource ToggleButtonHeight}"
                                                      VerticalAlignment="Center"
                                                      IsChecked="{Binding Path=ShowPreviewBubbles}"
                                                      Style="{StaticResource EllipseToggleButton1}"/>
                                        <Label Content="{x:Static p:Resources.PreferencesViewShowPreviewBubbles}" 
                                               VerticalAlignment="Center"
                                               Margin="10,0,0,0"
                                               Foreground="{StaticResource PreferencesWindowFontColor}"/>
                                        <Label HorizontalAlignment="Left"
                                                   Name="ShowPreviewBubblesInfoLabel"
                                                   VerticalAlignment="Center" 
                                                   Height="26" 
                                                   Width="53"
                                                   Margin="0 3 0 0">
                                            <Image
                                               Margin="5,3,0,0"
                                               Width="14"
                                               Height="14"
                                               HorizontalAlignment="Center"
                                               VerticalAlignment="Center"
                                               Style="{StaticResource QuestionIcon}"
                                               ToolTipService.ShowDuration="30000">
                                                <Image.ToolTip>
                                                    <ToolTip Content="{x:Static p:Resources.PreferencesWindowShowPreviewBubblesTooltip}" Style="{StaticResource GenericToolTipLight}"/>
                                                </Image.ToolTip>
                                            </Image>
                                        </Label>
                                    </StackPanel>
                                </Grid>
                            </Expander>

                            <!--Render Zoom Scaling Expander-->
                            <Expander x:Name="ZoomScaling"
                                      Grid.Row="3"
                                      Style="{StaticResource MenuExpanderStyle}" 
                                      IsExpanded="{Binding PreferencesTabs[VisualSettings].ExpanderActive, Converter={StaticResource ExpandersBindingConverter}, ConverterParameter=ZoomScaling}"
                                      Header="{x:Static p:Resources.PreferencesViewZoomScalingSettings}">
                                <Grid>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                    </Grid.RowDefinitions>
                                    <StackPanel Margin="0,10,0,5" Grid.Row="0" Orientation="Horizontal">
                                        <TextBlock  FontSize="12" Text="Library"></TextBlock>
                                        <Label HorizontalAlignment="Left"
                                                   Name="LibraryZoomScaleInfoLabel"
                                                   VerticalAlignment="Center" 
                                                   Height="26" 
                                                   Width="53">
                                            <Image
                                               Width="14"
                                               Height="14"
                                               Margin="0,0,0,5"
                                               Grid.Column="1"
                                               HorizontalAlignment="Center"
                                               VerticalAlignment="Center"
                                               Style="{StaticResource QuestionIcon}"
                                               ToolTipService.ShowDuration="30000">
                                                <Image.ToolTip>
                                                    <ToolTip Content="{x:Static p:Resources.LibraryZoomScaleTooltipText}" Style="{StaticResource GenericToolTipLight}"/>
                                                </Image.ToolTip>
                                            </Image>
                                        </Label>
                                    </StackPanel>
                                   
                                    <StackPanel Orientation="Horizontal" Grid.Row="1" Margin="0,0,0,3">
                                        
                                        <Slider
                                            x:Name="LibraryZoomScalingSlider"
                                            Style="{StaticResource SliderStyle}"
                                            Width="440"
                                            Minimum="0.1"
                                            Maximum="3">
                                        </Slider>
                                    </StackPanel>
                                    <StackPanel Grid.Row="2" Width="550">
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="125"></ColumnDefinition>
                                                <ColumnDefinition Width="150"></ColumnDefinition>
                                                <ColumnDefinition Width="135"></ColumnDefinition>
                                                <ColumnDefinition Width="*"></ColumnDefinition>
                                            </Grid.ColumnDefinitions>
                                            <TextBlock Text="10%" Grid.Column="0"></TextBlock>
                                            <TextBlock Text="100%" Grid.Column="1"></TextBlock>
                                            <TextBlock Text="200%" Grid.Column="2"></TextBlock>
                                            <TextBlock Text="300%" Grid.Column="3"></TextBlock>
                                        </Grid>
                                    </StackPanel>
                                </Grid>
                            </Expander>
                        </Grid>
                    </TabItem>

                    <!--Package Manager Settings Tab-->
                    <TabItem Header="{x:Static p:Resources.PreferencesPackageManagerSettingsTab}"
                             Style="{StaticResource LeftTab}">
                        <!--This Grid contains the package manager settings tab-->
                        <Grid x:Name="PackageManagerTab" 
                              Margin="1"
                              HorizontalAlignment="Stretch">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                            </Grid.RowDefinitions>

                            <!--This Grid row contains the Node and Package Paths section-->
                            <Expander x:Name="PackagePathsExpander"
                                        Grid.Row="0"
                                        Style="{StaticResource MenuExpanderStyle}" 
                                        IsExpanded="{Binding PreferencesTabs[Features].ExpanderActive, Converter={StaticResource ExpandersBindingConverter}, ConverterParameter=PackagePathsExpander}"
                                        Header="{x:Static p:Resources.PackagePathsExpanderName}">
                                <Grid>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                    </Grid.RowDefinitions>
                                    <StackPanel Orientation="Vertical" Margin="0,6,0,0" Grid.Row="0">
                                        <Label  Content="{x:Static p:Resources.PreferencesViewPackageDownloadDirectory}" 
                                                Padding="5,5,5,5"
                                                FontSize="13"
                                                Foreground="{StaticResource PreferencesWindowFontColor}">
                                            <Label.ToolTip>
                                                <ToolTip Content="{x:Static p:Resources.PreferencesPackageDownloadDirectoryTooltip}" Style="{StaticResource GenericToolTipLight}"/>
                                            </Label.ToolTip>
                                        </Label>
                                        <ComboBox Grid.Row="1"
                                                  x:Name="PackageDownloadDirectoryComboBox"
                                                  Width="Auto"
                                                  Margin="0,5,0,5"
                                                  HorizontalAlignment="Left"
                                                  ItemsSource="{Binding Path=PackagePathsForInstall}"
                                                  SelectedItem="{Binding Path=SelectedPackagePathForInstall}"
                                                  Style="{StaticResource NoBordersComboBoxStyle}">
                                            <ComboBox.ToolTip>
                                                <ToolTip Content="{Binding Path=SelectedPackagePathForInstall}" Style="{StaticResource GenericToolTipLight}"/>
                                            </ComboBox.ToolTip>
                                        </ComboBox>
                                        <ScrollViewer Height="200" VerticalScrollBarVisibility="Auto">
                                            <packagemanager:PackagePathView x:Name="PackagePathView" DataContext="{Binding PackagePathsViewModel}"/>
                                        </ScrollViewer>
                                    </StackPanel>
                                    <StackPanel Orientation="Horizontal" 
                                                Margin="0,0,0,0" 
                                                Grid.Row="1">
                                        <ToggleButton Name="DisableBuiltInPackagesToggle"
                                                              Width="{StaticResource ToggleButtonWidth}"
                                                              Height="{StaticResource ToggleButtonHeight}"
                                                              VerticalAlignment="Center"
                                                              IsChecked="{Binding Path=DisableBuiltInPackages}"
                                                              Style="{StaticResource EllipseToggleButton1}"/>
                                        <Label Content="{x:Static p:Resources.PreferencesViewDisableBuiltInPackages}" 
                                                                VerticalAlignment="Center"
                                                                Margin="10,0,0,0"
                                                                Foreground="{StaticResource PreferencesWindowFontColor}"/>
                                        <Image Name="DisableBuiltInPackageToggleInfoIcon"
                                               Width="16"
                                               Height="16"
                                               HorizontalAlignment="Center"
                                               VerticalAlignment="Center"
                                               Style="{StaticResource QuestionIcon}">
                                            <Image.ToolTip>
                                                <ToolTip Content="{x:Static p:Resources.DisableBuiltInPackageToggleInfo}" Style="{StaticResource GenericToolTipLight}"/>
                                            </Image.ToolTip>
                                        </Image>

                                    </StackPanel>
                                    <StackPanel Orientation="Horizontal" 
                                                Margin="0,12,0,0" 
                                                Grid.Row="2">
                                        <ToggleButton Name="DisableCustomPackagesToggle"
                                                                  Width="{StaticResource ToggleButtonWidth}"
                                                                  Height="{StaticResource ToggleButtonHeight}"
                                                                  VerticalAlignment="Center"
                                                                  IsChecked="{Binding Path=DisableCustomPackages}"
                                                                  Style="{StaticResource EllipseToggleButton1}"/>
                                        <Label Content="{x:Static p:Resources.PreferencesViewDisableCustomPackages}" 
                                                           VerticalAlignment="Center"
                                                           Margin="10,0,0,0"
                                                           Foreground="{StaticResource PreferencesWindowFontColor}"/>
                                        <Image Name="DisableCustomPackageToggleInfoIcon"
                                               Width="16"
                                               Height="16"
                                               HorizontalAlignment="Center"
                                               VerticalAlignment="Center"
                                               Style="{StaticResource QuestionIcon}">
                                            <Image.ToolTip>
                                                <ToolTip Content="{x:Static p:Resources.DisableCustomPackageToggleInfo}" Style="{StaticResource GenericToolTipLight}"/>
                                            </Image.ToolTip>
                                        </Image>
                                    </StackPanel>
                                </Grid>
                            </Expander>

                            <!--This Grid row contains the Installed Packages section-->
                            <Expander x:Name="InstalledPackagesExpander"
                                      Expanded="InstalledPackagesExpander_OnExpanded"
                                      Collapsed="InstalledPackagesExpander_OnCollapsed"
                                      Style="{StaticResource MenuExpanderStyle}" 
                                      IsExpanded="{Binding PreferencesTabs[Features].ExpanderActive, Converter={StaticResource ExpandersBindingConverter}, ConverterParameter=InstalledPackagesExpander}"
                                      Grid.Row="1"
                                      Header="{x:Static p:Resources.InstalledPackageViewTitle}">
                                <StackPanel
                                    Orientation="Vertical" Margin="0,6,0,0">
                                    <wpfControls:InstalledPackagesControl Height="Auto"/>
                                </StackPanel>
                            </Expander>
                        </Grid>
                    </TabItem>
                    
                    <!--Security Settings Tab-->
                    <TabItem Header="{x:Static p:Resources.PreferencesSecuritySettingsTab}"
                             Style="{StaticResource LeftTab}">
                        <!--This Grid contains the package manager settings tab-->
                        <Grid x:Name="SecurityTab" 
                              Margin="1"
                              HorizontalAlignment="Stretch">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                            </Grid.RowDefinitions>

                            <Expander x:Name="SecurityWarningExpander"
                                        Grid.Row="0"
                                        Style="{StaticResource MenuExpanderStyle}" 
                                        IsExpanded="{Binding PreferencesTabs[Features].ExpanderActive, Converter={StaticResource ExpandersBindingConverter}, ConverterParameter=SecurityWarningExpander}"
                                        Header="{x:Static p:Resources.SecurityWarningExpanderName}">
                                <StackPanel Orientation="Vertical" Margin="0,6,0,0">
                                    <Label  Content="{x:Static p:Resources.PreferencesViewTrustWarningHeader}" 
                                            Padding="0,5,5,5"
                                            FontSize="13"
                                            Foreground="{StaticResource PreferencesWindowFontColor}"/>
                                    <Grid>
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="Auto"/>
                                        </Grid.RowDefinitions>

                                        <StackPanel Orientation="Horizontal" Margin="0,12,0,0" Grid.Row="0">
                                            <ToggleButton Name="TrustWarningToggle"
                                                            Width="{StaticResource ToggleButtonWidth}"
                                                            Height="{StaticResource ToggleButtonHeight}"
                                                            VerticalAlignment="Center"
                                                            IsChecked="{Binding Path=DisableTrustWarnings,Mode=OneWay}"
                                                            Checked="DisableTrustWarningsChecked"
                                                            Unchecked="DisableTrustWarningsChecked"
                                                            Style="{StaticResource EllipseToggleButton1}"/>
                                            <Label Content="{x:Static p:Resources.PreferencesViewTrustWarningLabel}" 
                                                    Margin="10,0,0,0"
                                                    VerticalAlignment="Center"
                                                    Foreground="{StaticResource PreferencesWindowFontColor}"/>
                                            <Label HorizontalAlignment="Left"
                                                   Name="TrustWarningInfoLabel"
                                                   VerticalAlignment="Center" 
                                                   Height="26" 
                                                   Width="53"
                                                   Margin="0 3 0 0"
                                                   MouseLeftButtonDown="OnMoreInfoClicked">
                                                <Image
                                                   Margin="5,3,0,0"
                                                   Width="14"
                                                   Height="14"
                                                   HorizontalAlignment="Center"
                                                   VerticalAlignment="Center"
                                                   Style="{StaticResource QuestionIcon}"
                                                   ToolTipService.ShowDuration="30000">
                                                        <Image.ToolTip>
                                                            <ToolTip Content="{x:Static p:Resources.PreferencesViewTrustWarningTooltipText}" Style="{StaticResource GenericToolTipLight}"/>
                                                        </Image.ToolTip>
                                                    </Image>
                                            </Label>
                                        </StackPanel>
                                    </Grid>
                                </StackPanel>
                            </Expander>

                            <!--This Grid row contains the Trusted Paths section-->
                            <Expander x:Name="TrustedPathsExpander"
                                        Grid.Row="1"
                                        Style="{StaticResource MenuExpanderStyle}" 
                                        IsExpanded="{Binding PreferencesTabs[Features].ExpanderActive, Converter={StaticResource ExpandersBindingConverter}, ConverterParameter=TrustedPathsExpander}"
                                        Header="{x:Static p:Resources.TrustedPathsExpanderName}">
                                <Grid>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto"/>
                                    </Grid.RowDefinitions>
                                    <StackPanel Orientation="Vertical" Margin="0,6,0,0" Grid.Row="0">
                                        <ScrollViewer Height="200" VerticalScrollBarVisibility="Auto">
                                            <trustedpaths:TrustedPathView x:Name="TrustedPathView" DataContext="{Binding TrustedPathsViewModel}"/>
                                        </ScrollViewer>
                                    </StackPanel>
                                </Grid>
                            </Expander>
                        </Grid>
                    </TabItem>
                </TabControl>
            </Grid>
        </Grid>
        
        <!--This Section/Row is the bottom one and it contains all the buttons in the window.-->
        <!--The NormalButtonStyle Style is located in the DynamoModer.xaml file-->
        <Grid x:Name="ButtonsBottomGrid"
              Grid.Row="2">
            <Grid.RowDefinitions>
                <RowDefinition Height="*"></RowDefinition>
            </Grid.RowDefinitions>
            <Grid>
                <Grid Grid.Column="0" HorizontalAlignment="Left" Margin="14,0,0,0">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition></RowDefinition>
                        </Grid.RowDefinitions>
                        <Grid Grid.Row="0">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="16"/>
                                    <ColumnDefinition Width="*" />
                                </Grid.ColumnDefinitions>
                                <TextBlock Name="importLabel"
                                    Grid.Column="0"
                                    Text="{x:Static p:Resources.ImportPreferencesText}"
                                    Style="{StaticResource TextBlockLink}"
                                    HorizontalAlignment="Left"
                                    VerticalAlignment="Center"
                                    Margin="0,-7,3,0"
                                    MouseLeftButtonDown="importTextBlock_MouseLeftButtonDown"/>
                                <Image Name="importToolTipIcon"
                                    Grid.Column="1"
                                    Margin="0,-5,3,0"
                                    Width="14"
                                    Height="14"
                                    HorizontalAlignment="Center"
                                    VerticalAlignment="Center"
                                    Style="{StaticResource QuestionIcon}"
                                    ToolTipService.ShowDuration="10000">
                                    <Image.ToolTip>
                                        <ToolTip Content="{x:Static p:Resources.ImportPreferencesInfo}" Style="{StaticResource GenericToolTipLight}"/>
                                    </Image.ToolTip>
                                </Image>
                                <TextBlock
                                    Grid.Column="2"
                                    Text="|"
                                    Style="{StaticResource TextBlockLink}"
                                    HorizontalAlignment="Left"
                                    VerticalAlignment="Center"
                                    Margin="0,-10,0,0"/>
                                <TextBlock Name="exportLabel"
                                    Grid.Column="2"
                                    Text="{x:Static p:Resources.ExportPreferencesText}"
                                    Style="{StaticResource TextBlockLink}"
                                    HorizontalAlignment="Left"
                                    VerticalAlignment="Center"
                                    Margin="7,-7,0,0"
                                    MouseLeftButtonDown="exportTextBlock_MouseLeftButtonDown"/>
                            </Grid>
                        </Grid>
                    </Grid>
                </Grid>
                <Grid Grid.Column="1" HorizontalAlignment="Right">
                    <Label Name="SavedChanges" 
                   Grid.Row="1" 
                   HorizontalAlignment="Right"
                   VerticalAlignment="Center"
                   Foreground ="{StaticResource PreferencesWindowFontColor}"
                   Margin="0,0,14,0"
                   Content="{Binding SavedChangesLabel, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}">
                        <Label.ToolTip>
                            <ToolTip Content="{Binding SavedChangesTooltip, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" Style="{StaticResource GenericToolTipLight}"/>
                        </Label.ToolTip>
                    </Label>
                </Grid>
            </Grid>
        </Grid>
    </Grid>
</Window>
