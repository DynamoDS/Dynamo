<Page x:Class="Dynamo.PackageManager.UI.PublishPackagePublishPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:controls="clr-namespace:Dynamo.Controls"
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
      xmlns:local="clr-namespace:Dynamo.PackageManager.UI"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
      xmlns:p="clr-namespace:Dynamo.Wpf.Properties"
      xmlns:packagemanager="clr-namespace:Dynamo.PackageManager"
      xmlns:ui="clr-namespace:Dynamo.UI"
      Title="PublishPackagePublishPage"
      d:DataContext="{d:DesignInstance Type=packagemanager:PublishPackageViewModel}"
      d:DesignHeight="450"
      d:DesignWidth="800"
      UseLayoutRounding="True"
      mc:Ignorable="d">
    <Page.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ui:SharedResourceDictionary Source="{x:Static ui:SharedDictionaryManager.DynamoModernDictionaryUri}" />
                <ui:SharedResourceDictionary Source="{x:Static ui:SharedDictionaryManager.DynamoConvertersDictionaryUri}" />
                <ui:SharedResourceDictionary Source="{x:Static ui:SharedDictionaryManager.DynamoColorsAndBrushesDictionaryUri}" />
            </ResourceDictionary.MergedDictionaries>
            <controls:EmptyStringToFalseConverter x:Key="EmptyStringToFalseConverter" />
            <controls:EmptyListToVisibilityConverter x:Key="EmptyListToVisibilityConverter" />
            <controls:ListHasMoreThanNItemsToVisibilityConverter x:Key="ListHasMoreThanNItemsToVisibilityConverter" />
            <controls:ToTitleCaseStringConverter x:Key="ToTitleCaseStringConverter" />
            <controls:NullOrEmptyStringToVisibiltyCollapsedConverter x:Key="NullOrEmptyStringToVisibiltyCollapsedConverter" />
            <controls:StringEqualsZeroToVisibilityCollapsedConverter x:Key="StringEqualsZeroToVisibilityCollapsedConverter" />
            <BooleanToVisibilityConverter x:Key="BooleanToVisibilityConverter" />

            <!--  TabControl  -->
            <Style x:Key="TabControlStyle" TargetType="{x:Type TabControl}">
                <Setter Property="Padding" Value="0" />
                <Setter Property="HorizontalContentAlignment" Value="Center" />
                <Setter Property="VerticalContentAlignment" Value="Center" />
                <Setter Property="Background" Value="{StaticResource TabItem.Selected.Background}" />
                <Setter Property="BorderBrush" Value="{StaticResource TabItem.Selected.Border}" />
                <Setter Property="BorderThickness" Value="0" />
                <Setter Property="Foreground" Value="{DynamicResource {x:Static SystemColors.ControlTextBrushKey}}" />
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="{x:Type TabControl}">
                            <Grid x:Name="templateRoot"
                                  ClipToBounds="true"
                                  KeyboardNavigation.TabNavigation="Local"
                                  SnapsToDevicePixels="true">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition x:Name="ColumnDefinition0" />
                                    <ColumnDefinition x:Name="ColumnDefinition1" Width="0" />
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition x:Name="RowDefinition0" Height="Auto" />
                                    <RowDefinition x:Name="RowDefinition1" Height="*" />
                                </Grid.RowDefinitions>
                                <TabPanel x:Name="headerPanel"
                                          Grid.Row="0"
                                          Grid.Column="0"
                                          Margin="0"
                                          Panel.ZIndex="1"
                                          Background="Transparent"
                                          IsItemsHost="true"
                                          KeyboardNavigation.TabIndex="1" />
                                <Border x:Name="contentPanel"
                                        Grid.Row="1"
                                        Grid.Column="0"
                                        Background="{TemplateBinding Background}"
                                        BorderBrush="{TemplateBinding BorderBrush}"
                                        BorderThickness="{TemplateBinding BorderThickness}"
                                        KeyboardNavigation.DirectionalNavigation="Contained"
                                        KeyboardNavigation.TabIndex="2"
                                        KeyboardNavigation.TabNavigation="Local">
                                    <ContentPresenter x:Name="PART_SelectedContentHost"
                                                      Margin="{TemplateBinding Padding}"
                                                      ContentSource="SelectedContent"
                                                      SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" />
                                </Border>
                            </Grid>
                            <ControlTemplate.Triggers>
                                <Trigger Property="TabStripPlacement" Value="Bottom">
                                    <Setter TargetName="headerPanel" Property="Grid.Row" Value="1" />
                                    <Setter TargetName="contentPanel" Property="Grid.Row" Value="0" />
                                    <Setter TargetName="RowDefinition0" Property="Height" Value="*" />
                                    <Setter TargetName="RowDefinition1" Property="Height" Value="Auto" />
                                    <Setter TargetName="headerPanel" Property="Margin" Value="2,0,2,2" />
                                </Trigger>
                                <Trigger Property="TabStripPlacement" Value="Left">
                                    <Setter TargetName="headerPanel" Property="Grid.Row" Value="0" />
                                    <Setter TargetName="contentPanel" Property="Grid.Row" Value="0" />
                                    <Setter TargetName="headerPanel" Property="Grid.Column" Value="0" />
                                    <Setter TargetName="contentPanel" Property="Grid.Column" Value="1" />
                                    <Setter TargetName="ColumnDefinition0" Property="Width" Value="Auto" />
                                    <Setter TargetName="ColumnDefinition1" Property="Width" Value="*" />
                                    <Setter TargetName="RowDefinition0" Property="Height" Value="*" />
                                    <Setter TargetName="RowDefinition1" Property="Height" Value="0" />
                                    <Setter TargetName="headerPanel" Property="Margin" Value="2,2,0,2" />
                                </Trigger>
                                <Trigger Property="TabStripPlacement" Value="Right">
                                    <Setter TargetName="headerPanel" Property="Grid.Row" Value="0" />
                                    <Setter TargetName="contentPanel" Property="Grid.Row" Value="0" />
                                    <Setter TargetName="headerPanel" Property="Grid.Column" Value="1" />
                                    <Setter TargetName="contentPanel" Property="Grid.Column" Value="0" />
                                    <Setter TargetName="ColumnDefinition0" Property="Width" Value="*" />
                                    <Setter TargetName="ColumnDefinition1" Property="Width" Value="Auto" />
                                    <Setter TargetName="RowDefinition0" Property="Height" Value="*" />
                                    <Setter TargetName="RowDefinition1" Property="Height" Value="0" />
                                    <Setter TargetName="headerPanel" Property="Margin" Value="0,2,2,2" />
                                </Trigger>
                                <Trigger Property="IsEnabled" Value="false">
                                    <Setter TargetName="templateRoot" Property="TextElement.Foreground" Value="{DynamicResource {x:Static SystemColors.GrayTextBrushKey}}" />
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>

            <!--  TabItem  -->
            <Style x:Key="TabItemStyle" TargetType="{x:Type TabItem}">
                <Setter Property="Margin" Value="0" />
                <Setter Property="Foreground" Value="#F5F5F5" />
                <Setter Property="FontSize" Value="12" />
                <Setter Property="FontFamily" Value="{DynamicResource ArtifaktElementRegular}" />
                <Setter Property="UseLayoutRounding" Value="True" />
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="TabItem">
                            <Border Padding="10,5"
                                    Background="{TemplateBinding Background}"
                                    BorderBrush="{TemplateBinding BorderBrush}"
                                    BorderThickness="{TemplateBinding BorderThickness}">
                                <ContentPresenter Content="{TemplateBinding Header}" />
                            </Border>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsSelected" Value="True">
                                    <Setter Property="Background" Value="#434343" />
                                    <Setter Property="FontFamily" Value="{StaticResource ArtifaktElementBold}" />
                                </Trigger>
                                <Trigger Property="IsSelected" Value="False">
                                    <Setter Property="Background" Value="Transparent" />
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>

            <!--  Custom validation adorner style  -->
            <Style x:Key="CustomAdornerInputStyle"
                   BasedOn="{StaticResource InputStyleWithIcon}"
                   TargetType="{x:Type TextBox}">
                <Setter Property="Margin" Value="0" />
                <Setter Property="Validation.ErrorTemplate">
                    <Setter.Value>
                        <ControlTemplate>
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition />
                                    <RowDefinition Height="Auto" />
                                </Grid.RowDefinitions>
                                <Border Padding="0"
                                        BorderBrush="#EB5555"
                                        BorderThickness="0,0,0,1">
                                    <AdornedElementPlaceholder />
                                </Border>

                                <StackPanel x:Name="errorMessage"
                                            Grid.Row="1"
                                            Margin="4,10,0,0"
                                            VerticalAlignment="Center"
                                            Orientation="Horizontal">
                                    <Viewbox Width="20"
                                             Height="20"
                                             VerticalAlignment="Center">
                                        <Path x:Name="Folder"
                                              Data="M10 0L0 10L10 20L20 10L10 0ZM1.41 10L10 1.41L18.59 10L10 18.59L1.41 10ZM9 13C9 13.5523 9.44771 14 10 14C10.5523 14 11 13.5523 11 13C11 12.4477 10.5523 12 10 12C9.44771 12 9 12.4477 9 13ZM10.4859 10.8536C10.3862 10.9459 10.2559 10.9981 10.12 11H9.88C9.74412 10.9981 9.61376 10.9459 9.51405 10.8536C9.41434 10.7613 9.35234 10.6353 9.34 10.5L9 6C9 5.73478 9.10536 5.48043 9.29289 5.29289C9.48043 5.10536 9.73478 5 10 5C10.2652 5 10.5196 5.10536 10.7071 5.29289C10.8946 5.48043 11 5.73478 11 6L10.66 10.5C10.6477 10.6353 10.5857 10.7613 10.4859 10.8536Z"
                                              Fill="#EB5555"
                                              StrokeThickness="0" />
                                    </Viewbox>
                                    <TextBlock Margin="10,5,0,0"
                                               VerticalAlignment="Center"
                                               FontFamily="{StaticResource ArtifaktElementRegular}"
                                               FontSize="10"
                                               Foreground="{StaticResource TextColorBrush}"
                                               Text="{x:Static p:Resources.NameNeedMoreCharacters}" />
                                </StackPanel>
                            </Grid>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>

                <Style.Triggers>
                    <Trigger Property="Validation.HasError" Value="true">
                        <Setter Property="Margin" Value="0,0,0,30" />
                    </Trigger>
                </Style.Triggers>
            </Style>
        </ResourceDictionary>
    </Page.Resources>
    <Grid>
        <!--  Mid-Section: Details + Datagrid  -->
        <Grid Name="midSectionGrid" Grid.Row="0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*" MinWidth="250" />
                <ColumnDefinition Width="1" />
                <ColumnDefinition Width="1.5*" MinWidth="365" />
            </Grid.ColumnDefinitions>

            <!--  Background Border  -->
            <Border Grid.Column="0"
                    Grid.ColumnSpan="3"
                    BorderBrush="#7E7E7E"
                    BorderThickness="0,0,0,1"
                    Focusable="False" />

            <!--  Left: Details  -->
            <ScrollViewer Grid.Row="1"
                          Grid.Column="0"
                          Margin="0,5"
                          VerticalScrollBarVisibility="Visible">
                <StackPanel Margin="15,6,10,6" Orientation="Vertical">

                    <!--  Name  -->
                    <TextBlock Name="packageNameLabel"
                               Style="{StaticResource LabelStyle}"
                               Text="{x:Static p:Resources.PublishPackageViewPackageName}">
                        <TextBlock.ToolTip>
                            <ToolTip Content="{x:Static p:Resources.PublishPackageViewPackageNameTooltip}" Style="{StaticResource GenericToolTipLight}" />
                        </TextBlock.ToolTip>
                    </TextBlock>
                    <TextBox Name="packageNameInput"
                             IsEnabled="{Binding Path=CanEditName}"
                             PreviewKeyDown="textBoxInput_PreviewKeyDown"
                             Style="{StaticResource CustomAdornerInputStyle}"
                             TabIndex="0"
                             Tag="{x:Static p:Resources.PublishPackageViewPackageNameWatermark}">
                        <TextBox.Text>
                            <Binding Mode="TwoWay"
                                     Path="Name"
                                     UpdateSourceTrigger="PropertyChanged">
                                <Binding.ValidationRules>
                                    <local:PackageNameLengthValidationRule />
                                </Binding.ValidationRules>
                            </Binding>
                        </TextBox.Text>
                    </TextBox>

                    <!--  Description  -->
                    <TextBlock Name="descriptionLabel"
                               Margin="0,10,0,0"
                               Style="{StaticResource LabelStyle}"
                               Text="{x:Static p:Resources.PublishPackageViewPackageDescription}">
                        <TextBlock.ToolTip>
                            <ToolTip Content="{x:Static p:Resources.PublishPackageViewPackageDescriptionTooltip}" Style="{StaticResource GenericToolTipLight}" />
                        </TextBlock.ToolTip>
                    </TextBlock>
                    <TextBox Name="descriptionInput"
                             MinHeight="81px"
                             VerticalContentAlignment="Top"
                             FontSize="12"
                             PreviewKeyDown="textBoxInput_PreviewKeyDown"
                             Style="{StaticResource InputStyle}"
                             TabIndex="1"
                             Tag="{x:Static p:Resources.PublishPackageViewPackageDescription}"
                             Text="{Binding Path=Description, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />

                    <!--  Version  -->
                    <TextBlock Name="versionLabel"
                               Style="{StaticResource LabelStyle}"
                               Text="{x:Static p:Resources.PublishPackageViewPackageVersion}">
                        <TextBlock.ToolTip>
                            <ToolTip Content="{x:Static p:Resources.PublishPackageViewPackageVersionTooltip}" Style="{StaticResource GenericToolTipLight}" />
                        </TextBlock.ToolTip>
                    </TextBlock>
                    <UniformGrid Margin="-5,0,-5,12" Rows="1">

                        <local:NumericUpDownControl x:Name="versionMajorInput"
                                                    Margin="5,0,5,0"
                                                    Label="{x:Static p:Resources.PublishPackageViewMajorPackageVersionLabel}"
                                                    TabIndex="2"
                                                    Watermark="{x:Static p:Resources.PublishPackageVersionMajorWatermark}"
                                                    Value="{Binding Path=MajorVersion, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                        <local:NumericUpDownControl x:Name="versionMinorInput"
                                                    Margin="5,0,5,0"
                                                    Label="{x:Static p:Resources.PublishPackageViewMinorPackageVersionLabel}"
                                                    TabIndex="3"
                                                    Watermark="{x:Static p:Resources.PublishPackageVersionMinorWatermark}"
                                                    Value="{Binding Path=MinorVersion, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                        <local:NumericUpDownControl x:Name="versionBuildInput"
                                                    Margin="5,0,5,0"
                                                    Label="{x:Static p:Resources.PublishPackageViewBuildPackageVersionLabel}"
                                                    TabIndex="4"
                                                    Watermark="{x:Static p:Resources.PublishPackageVersionBuildWatermark}"
                                                    Value="{Binding Path=BuildVersion, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                    </UniformGrid>
                    <StackPanel x:Name="versionErrorMessage"
                                Margin="4,0,0,15"
                                VerticalAlignment="Center"
                                Orientation="Horizontal"
                                Visibility="{Binding MajorVersion, Mode=TwoWay, Converter={StaticResource StringEqualsZeroToVisibilityCollapsedConverter}}">
                        <Viewbox Width="20"
                                 Height="20"
                                 VerticalAlignment="Center">
                            <Path x:Name="Folder"
                                  Data="M10 0L0 10L10 20L20 10L10 0ZM1.41 10L10 1.41L18.59 10L10 18.59L1.41 10ZM9 13C9 13.5523 9.44771 14 10 14C10.5523 14 11 13.5523 11 13C11 12.4477 10.5523 12 10 12C9.44771 12 9 12.4477 9 13ZM10.4859 10.8536C10.3862 10.9459 10.2559 10.9981 10.12 11H9.88C9.74412 10.9981 9.61376 10.9459 9.51405 10.8536C9.41434 10.7613 9.35234 10.6353 9.34 10.5L9 6C9 5.73478 9.10536 5.48043 9.29289 5.29289C9.48043 5.10536 9.73478 5 10 5C10.2652 5 10.5196 5.10536 10.7071 5.29289C10.8946 5.48043 11 5.73478 11 6L10.66 10.5C10.6477 10.6353 10.5857 10.7613 10.4859 10.8536Z"
                                  Fill="#EB5555"
                                  StrokeThickness="0" />
                        </Viewbox>
                        <TextBlock MaxWidth="255"
                                   Margin="10,5,0,0"
                                   VerticalAlignment="Center"
                                   FontFamily="{StaticResource ArtifaktElementRegular}"
                                   FontSize="10"
                                   Foreground="{StaticResource TextColorBrush}"
                                   Text="{x:Static p:Resources.MajorVersionNonNegative}"
                                   TextTrimming="CharacterEllipsis">
                            <TextBlock.ToolTip>
                                <ToolTip Content="{x:Static p:Resources.MajorVersionNonNegative}" Style="{StaticResource GenericToolTipLight}" />
                            </TextBlock.ToolTip>
                        </TextBlock>
                    </StackPanel>



                    <!--  Keywords  -->
                    <TextBlock Name="keywordsLabel"
                               Style="{StaticResource LabelStyle}"
                               Text="{x:Static p:Resources.PublishPackageViewPackageKeywords}">
                        <TextBlock.ToolTip>
                            <ToolTip Content="{x:Static p:Resources.PublishPackageViewPackageKeywordsTooltip}" Style="{StaticResource GenericToolTipLight}" />
                        </TextBlock.ToolTip>
                    </TextBlock>
                    <TextBox Name="keywordsInput"
                             Margin="0,5"
                             PreviewKeyDown="textBoxInput_PreviewKeyDown"
                             Style="{StaticResource InputStyle}"
                             TabIndex="7"
                             Tag="{x:Static p:Resources.PublishPackageKeywordsWatermark}"
                             Text="{Binding Keywords, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}">
                        <TextBox.InputBindings>
                            <KeyBinding Key="Return" Command="{Binding SetKeywordsCommand}" />
                        </TextBox.InputBindings>
                    </TextBox>

                    <!--  Bar containing all keywords  -->
                    <ItemsControl x:Name="KeywordsItemControl" Margin="0,0,0,2">
                        <ItemsControl.Resources>
                            <CollectionViewSource x:Key="KeywordItems" Source="{Binding KeywordsCollection}" />
                        </ItemsControl.Resources>
                        <ItemsControl.ItemsSource>
                            <CompositeCollection>
                                <CollectionContainer Collection="{Binding Source={StaticResource KeywordItems}}" />
                            </CompositeCollection>
                        </ItemsControl.ItemsSource>
                        <ItemsControl.ItemTemplate>
                            <DataTemplate DataType="{x:Type local:FilterTagControl}">
                                <local:FilterTagControl IsFilterOn="{Binding OnChecked, Mode=TwoWay}" TagName="{Binding Name}" />
                            </DataTemplate>
                        </ItemsControl.ItemTemplate>
                        <ItemsControl.ItemsPanel>
                            <ItemsPanelTemplate>
                                <WrapPanel Orientation="Horizontal" />
                            </ItemsPanelTemplate>
                        </ItemsControl.ItemsPanel>
                    </ItemsControl>

                    <!--  Group  -->
                    <TextBlock Name="groupLabel"
                               Style="{StaticResource LabelStyle}"
                               Text="{x:Static p:Resources.PublishPackageViewPackageGroup}">
                        <TextBlock.ToolTip>
                            <ToolTip Content="{x:Static p:Resources.PublishPackageViewPackageGroupTooltip}" Style="{StaticResource GenericToolTipLight}" />
                        </TextBlock.ToolTip>
                    </TextBlock>
                    <TextBox Name="groupInput"
                             PreviewKeyDown="textBoxInput_PreviewKeyDown"
                             Style="{StaticResource InputStyle}"
                             TabIndex="6"
                             Tag="{x:Static p:Resources.PublishPackageGroupWatermark}"
                             Text="{Binding Path=Group, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />


                    <!--  More  -->
                    <Expander x:Name="detailsExpander"
                              Margin="-2,6,-2,0"
                              Header="{x:Static p:Resources.MoreButton}"
                              KeyboardNavigation.TabNavigation="Local"
                              Style="{StaticResource MenuExpanderStyle}"
                              TabIndex="8">
                        <StackPanel Margin="-10,10,0,0" KeyboardNavigation.TabNavigation="Local">

                            <!--  Website URL  -->
                            <TextBlock Name="websiteUrlLabel"
                                       Style="{StaticResource LabelStyle}"
                                       Text="{x:Static p:Resources.PublishPackageViewPublisherWebSite}">
                                <TextBlock.ToolTip>
                                    <ToolTip Content="{x:Static p:Resources.PublishPackageViewPublisherWebsiteTooltip}" Style="{StaticResource GenericToolTipLight}" />
                                </TextBlock.ToolTip>
                            </TextBlock>
                            <TextBox Name="websiteUrlInput"
                                     PreviewKeyDown="textBoxInput_PreviewKeyDown"
                                     Style="{StaticResource InputStyle}"
                                     TabIndex="9"
                                     Tag="{x:Static p:Resources.PublishPackageViewPublisherURLWatermark}"
                                     Text="{Binding SiteUrl, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />

                            <!--  Repository URL  -->
                            <TextBlock Name="repositoryUrlLabel"
                                       Style="{StaticResource LabelStyle}"
                                       Text="{x:Static p:Resources.PublishPackageViewRepositoryUrl}">
                                <TextBlock.ToolTip>
                                    <ToolTip Content="{x:Static p:Resources.PublishPackageViewGithubLinkTooltip}" Style="{StaticResource GenericToolTipLight}" />
                                </TextBlock.ToolTip>
                            </TextBlock>
                            <TextBox Name="repositoryUrlInput"
                                     PreviewKeyDown="textBoxInput_PreviewKeyDown"
                                     Style="{StaticResource InputStyle}"
                                     TabIndex="10"
                                     Tag="{x:Static p:Resources.PublishPackageViewPublisherURLWatermark}"
                                     Text="{Binding RepositoryUrl, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />

                            <!--  License  -->
                            <TextBlock Name="licenseLabel"
                                       PreviewKeyDown="textBoxInput_PreviewKeyDown"
                                       Style="{StaticResource LabelStyle}"
                                       Text="{x:Static p:Resources.PublishPackageViewLicense}">
                                <TextBlock.ToolTip>
                                    <ToolTip Content="{x:Static p:Resources.PublishPackageViewLicenceTooltip}" Style="{StaticResource GenericToolTipLight}" />
                                </TextBlock.ToolTip>
                            </TextBlock>
                            <TextBlock Name="licenseSubLabel"
                                       Style="{StaticResource SubLabelStyle}"
                                       TextWrapping="Wrap">
                                <Run Text="{x:Static p:Resources.PublishPackageViewLicenseSubLabel}" />
                                <Hyperlink Cursor="Hand"
                                           KeyboardNavigation.TabIndex="11"
                                           NavigateUri="https://opensource.org/licenses/MIT"
                                           RequestNavigate="Hyperlink_RequestNavigate">
                                    MIT
                                    <Hyperlink.Style>
                                        <Style TargetType="Hyperlink">
                                            <Setter Property="Foreground" Value="#6AC0E7" />
                                            <Setter Property="FontFamily" Value="{StaticResource ArtifaktElementRegular}" />
                                            <Setter Property="FontSize" Value="12px" />
                                        </Style>
                                    </Hyperlink.Style>
                                </Hyperlink>
                            </TextBlock>
                            <TextBox Name="licenseInput"
                                     PreviewKeyDown="textBoxInput_PreviewKeyDown"
                                     Style="{StaticResource InputStyle}"
                                     TabIndex="12"
                                     Tag="{x:Static p:Resources.PublishPackageViewLicenseWatermark}"
                                     Text="{Binding License, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />

                            <!--  Copyright Holder  -->
                            <TextBlock Name="copyrightHolderLabel"
                                       Style="{StaticResource LabelStyle}"
                                       Text="{x:Static p:Resources.PublishPackageViewCopyrightHolder}">
                                <TextBlock.ToolTip>
                                    <ToolTip Content="{x:Static p:Resources.PublishPackageViewCopyrightHolderTooltip}" Style="{StaticResource GenericToolTipLight}" />
                                </TextBlock.ToolTip>
                            </TextBlock>
                            <TextBlock Name="copyrightHolderSubLabel"
                                       Style="{StaticResource SubLabelStyle}"
                                       Text="{x:Static p:Resources.PublishPackageViewCopyrightHolderSubLabel}" />
                            <TextBox Name="CopyrightHolder"
                                     PreviewKeyDown="textBoxInput_PreviewKeyDown"
                                     Style="{StaticResource InputStyle}"
                                     TabIndex="13"
                                     Tag="{x:Static p:Resources.PublishPackageViewCopyrightHolderWatermark}"
                                     Text="{Binding CopyrightHolder, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />

                            <!--  Copyright Year  -->
                            <TextBlock Name="copyrightYearLabel"
                                       Style="{StaticResource LabelStyle}"
                                       Text="{x:Static p:Resources.PublishPackageViewCopyrightYear}">
                                <TextBlock.ToolTip>
                                    <ToolTip Content="{x:Static p:Resources.PublishPackageViewCopyrightYearTooltip}" Style="{StaticResource GenericToolTipLight}" />
                                </TextBlock.ToolTip>
                            </TextBlock>
                            <TextBlock Name="copyrightYearSubLabel"
                                       Style="{StaticResource SubLabelStyle}"
                                       Text="{x:Static p:Resources.PublishPackageViewCopyrightYearSubLabel}" />
                            <TextBox Name="CopyrightYear"
                                     Margin="0,0,0,0"
                                     PreviewKeyDown="textBoxInput_PreviewKeyDown"
                                     Style="{StaticResource InputStyle}"
                                     TabIndex="14"
                                     Tag="{x:Static p:Resources.PublishPackageViewCopyrightYearWatermark}"
                                     Text="{Binding CopyrightYear, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                        </StackPanel>
                    </Expander>
                </StackPanel>
            </ScrollViewer>

            <!--  Right: DataGrid  -->
            <Grid Name="packageContentsGrid"
                  Grid.Column="2"
                  Margin="25,16,25,15"
                  VerticalAlignment="Top">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="*" />
                </Grid.RowDefinitions>

                <Grid Grid.Row="0">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="*" />
                    </Grid.RowDefinitions>
                    <!--  Package Contents Label  -->
                    <DockPanel Grid.Row="0">
                        <TextBlock DockPanel.Dock="Left"
                                   Style="{StaticResource LabelStyle}"
                                   Text="{x:Static p:Resources.PublishPackagePackageContent}" />


                        <Button HorizontalAlignment="Right"
                                Click="NavigationButton_Click"
                                Content="Edit"
                                DockPanel.Dock="Right"
                                FontFamily="{StaticResource ArtifaktElementRegular}"
                                FontSize="12"
                                Foreground="#38ABDF"
                                Style="{StaticResource {x:Static ToolBar.ButtonStyleKey}}"
                                Tag="Next"
                                Visibility="{Binding PreviewPackageContents, Converter={StaticResource ListHasMoreThanNItemsToVisibilityConverter}}" />
                    </DockPanel>

                    <Border Grid.Row="1"
                            Margin="0,10,0,20"
                            Padding="0"
                            Background="#343434">

                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="*" />
                            </Grid.RowDefinitions>
                            <!--  Top Row: Buttons and Label  -->
                            <StackPanel Grid.Row="0"
                                        Margin="30"
                                        HorizontalAlignment="Center"
                                        Orientation="Horizontal"
                                        Visibility="{Binding PreviewPackageContents, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay, Converter={StaticResource EmptyListToVisibilityConverter}}">

                                <!--  Add Files  -->
                                <Button Margin="0,0,20,0"
                                        Background="#0696D7"
                                        BorderBrush="#0696D7"
                                        Click="NavigationButton_Click"
                                        Command="{Binding Path=ShowAddFileDialogAndAddCommand}"
                                        Content="{x:Static p:Resources.PublishPackageViewAddFileButton}"
                                        Foreground="White"
                                        Style="{StaticResource CtaButtonStyle}"
                                        TabIndex="15"
                                        Tag="Next">
                                    <Button.ToolTip>
                                        <ToolTip Content="{x:Static p:Resources.PublishPackageViewAddFileButtonTooltip}" Style="{StaticResource GenericToolTipLight}" />
                                    </Button.ToolTip>
                                </Button>

                                <!--  Add Directory  -->
                                <Button Margin="20,0,0,0"
                                        Background="#0696D7"
                                        BorderBrush="#0696D7"
                                        Click="NavigationButton_Click"
                                        Command="{Binding Path=SelectDirectoryAndAddFilesRecursivelyCommand}"
                                        Content="{x:Static p:Resources.PublishPackageViewAddDirectoryButton}"
                                        Foreground="White"
                                        Style="{StaticResource CtaButtonStyle}"
                                        TabIndex="16"
                                        Tag="Next">
                                    <Button.ToolTip>
                                        <ToolTip Content="{x:Static p:Resources.PublishPackageViewAddDirectoryButtonTooltip}" Style="{StaticResource GenericToolTipLight}" />
                                    </Button.ToolTip>
                                </Button>
                            </StackPanel>

                            <local:CustomBrowserControl x:Name="previewBrowserControl"
                                                        Grid.Row="1"
                                                        MaxHeight="380"
                                                        Margin="0,5"
                                                        IsEnabled="True"
                                                        Loaded="previewBrowserControl_Loaded"
                                                        Root="{Binding PreviewPackageContents, UpdateSourceTrigger=PropertyChanged, Mode=OneWay}"
                                                        Tag="True"
                                                        Visibility="{Binding PreviewPackageContents, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay, Converter={StaticResource ListHasMoreThanNItemsToVisibilityConverter}}" />
                        </Grid>

                    </Border>
                </Grid>

                <!--  Bottom: Markdown Files & Dependencies  -->
                <StackPanel Grid.Row="1"
                            Margin="0,0,0,0"
                            VerticalAlignment="Top">

                    <!--  Markdown Files Directory  -->
                    <DockPanel Margin="0,0,0,4" LastChildFill="False">
                        <DockPanel.ToolTip>
                            <ToolTip Content="{x:Static p:Resources.PreferencesViewMarkdownDirectoryTooltip}" Style="{StaticResource GenericToolTipLight}" />
                        </DockPanel.ToolTip>
                        <TextBlock Style="{StaticResource LabelStyle}" Text="{x:Static p:Resources.PublishPackageViewMarkdownFilesDirectory}" />
                        <Border Margin="8,3,0,0"
                                Background="Transparent"
                                DockPanel.Dock="Left">
                            <Viewbox Width="14"
                                     Height="14"
                                     VerticalAlignment="Top">
                                <Path x:Name="Info"
                                      Data="M7 0C3.13401 0 0 3.13401 0 7C0 10.866 3.13401 14 7 14C10.866 14 14 10.866 14 7C14 5.14348 13.2625 3.36301 11.9497 2.05025C10.637 0.737498 8.85652 0 7 0ZM8 11H6V6H8V11ZM7 5.25C6.30964 5.25 5.75 4.69036 5.75 4C5.75 3.30964 6.30964 2.75 7 2.75C7.69036 2.75 8.25 3.30964 8.25 4C8.25 4.33152 8.1183 4.64946 7.88388 4.88388C7.64946 5.1183 7.33152 5.25 7 5.25Z"
                                      Fill="#999999"
                                      StrokeThickness="0" />
                            </Viewbox>
                        </Border>
                    </DockPanel>
                    <StackPanel Margin="0,0,0,15"
                                Orientation="Horizontal"
                                Visibility="{Binding MarkdownFilesDirectory, UpdateSourceTrigger=PropertyChanged, Converter={StaticResource NullOrEmptyStringToVisibiltyCollapsedConverter}, ConverterParameter=invert}">
                        <!--  Add Markup Folder  -->
                        <Button Background="{StaticResource PrimaryCharcoal300Brush}"
                                BorderThickness="0"
                                Command="{Binding Path=SelectMarkdownDirectoryCommand}"
                                Cursor="Hand">
                            <Button.Template>
                                <ControlTemplate TargetType="Button">
                                    <Border Margin="0,-1,0,0" Background="Transparent">
                                        <StackPanel VerticalAlignment="Center" Orientation="Horizontal">
                                            <Viewbox Width="16"
                                                     Height="16"
                                                     VerticalAlignment="Top">
                                                <Path x:Name="Folder"
                                                      Data="M2.00016 6.66667H6.84016L7.8535 6H13.3335V12H14.0002V5.33333H7.86016L6.00016 4H1.3335V14.6667H8.66683V14H2.00016V6.66667ZM2.00016 4.66667H6.00016L7.20016 5.61333L6.66683 6H2.00016V4.66667ZM12.6668 10.6667V12.6667H14.6668V14H12.6668V16H11.3335V14H9.3335V12.6667H11.3335V10.6667H12.6668Z"
                                                      Fill="#999999"
                                                      StrokeThickness="0" />
                                            </Viewbox>
                                            <TextBlock Margin="10,3,0,0" Text="{x:Static p:Resources.PackagePathAddPathButtonName}">
                                                <TextBlock.Style>
                                                    <Style BasedOn="{StaticResource SubLabelStyle}" TargetType="TextBlock">
                                                        <Style.Triggers>
                                                            <DataTrigger Binding="{Binding IsMouseOver, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=Border}}" Value="True">
                                                                <Setter Property="Foreground" Value="#6AC0E7" />
                                                            </DataTrigger>
                                                        </Style.Triggers>
                                                    </Style>
                                                </TextBlock.Style>
                                            </TextBlock>
                                        </StackPanel>
                                    </Border>
                                    <ControlTemplate.Triggers>
                                        <Trigger Property="IsMouseOver" Value="True">
                                            <Setter TargetName="Folder" Property="Fill" Value="#6AC0E7" />
                                        </Trigger>
                                    </ControlTemplate.Triggers>
                                </ControlTemplate>
                            </Button.Template>
                        </Button>
                    </StackPanel>
                    <Grid Margin="0,0,0,15" Visibility="{Binding MarkdownFilesDirectory, UpdateSourceTrigger=PropertyChanged, Converter={StaticResource NullOrEmptyStringToVisibiltyCollapsedConverter}}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>
                        <TextBox Grid.Column="0"
                                 Margin="0"
                                 HorizontalAlignment="Stretch"
                                 Background="#343434"
                                 IsHitTestVisible="False"
                                 IsReadOnly="True"
                                 Style="{StaticResource InputStyle}"
                                 Tag="{Binding Source={x:Static p:Resources.NoneString}, Converter={StaticResource ToTitleCaseStringConverter}}"
                                 Text="{Binding MarkdownFilesDirectory, UpdateSourceTrigger=PropertyChanged}" />

                        <StackPanel Grid.Column="1"
                                    Margin="0,0,0,5"
                                    VerticalAlignment="Center"
                                    Orientation="Horizontal">

                            <Button Name="markdownFilesDirectoryButton"
                                    Grid.Column="1"
                                    Width="20"
                                    Height="20"
                                    Margin="5,0"
                                    HorizontalAlignment="Right"
                                    VerticalAlignment="Top"
                                    BorderThickness="0"
                                    Command="{Binding SelectMarkdownDirectoryCommand}"
                                    Cursor="Hand"
                                    DockPanel.Dock="Right"
                                    IsHitTestVisible="True"
                                    TabIndex="18">
                                <Button.ToolTip>
                                    <ToolTip Content="{x:Static p:Resources.PublishPackageViewMarkdownFilesDirectoryToolTip}" Style="{StaticResource GenericToolTipLight}" />
                                </Button.ToolTip>
                                <Button.Template>
                                    <ControlTemplate TargetType="Button">
                                        <Border Background="Transparent">
                                            <Viewbox Width="16"
                                                     Height="16"
                                                     VerticalAlignment="Center">
                                                <Path x:Name="Folder"
                                                      Data="M12.3807 13.3333H1.34863V2.66663H5.83292L7.85591 3.99996H13.4866V5.99996H14.6262L12.3807 13.3333ZM2.82532 12.6666H11.895L13.6955 6.66663H4.62578L2.82532 12.6666ZM2.02296 3.33329V12.6666H2.11737L4.14036 5.99996H12.8122V4.66663H7.65361L5.63063 3.33329H2.02296Z"
                                                      Fill="#F5F5F5"
                                                      StrokeThickness="0" />
                                            </Viewbox>
                                        </Border>
                                        <ControlTemplate.Triggers>
                                            <Trigger Property="IsMouseOver" Value="True">
                                                <Setter TargetName="Folder" Property="Fill" Value="#6AC0E7" />
                                            </Trigger>
                                        </ControlTemplate.Triggers>
                                    </ControlTemplate>
                                </Button.Template>
                            </Button>
                            <Button Margin="0"
                                    VerticalAlignment="Center"
                                    Command="{Binding Path=ClearMarkdownDirectoryCommand}"
                                    IsEnabled="{Binding Path=MarkdownFilesDirectory, Converter={StaticResource EmptyStringToFalseConverter}}"
                                    Style="{StaticResource TextButtonStyle}"
                                    TabIndex="17">
                                <Button.Template>
                                    <ControlTemplate TargetType="Button">
                                        <Border Background="Transparent">
                                            <Viewbox Width="14"
                                                     Height="14"
                                                     VerticalAlignment="Center">
                                                <Path x:Name="Folder"
                                                      Data="M13.3996 3.39998L12.5996 2.59998L7.99961 7.29998L3.39961 2.59998L2.59961 3.39998L7.29961 7.99998L2.59961 12.6L3.39961 13.4L7.99961 8.69998L12.5996 13.4L13.3996 12.6L8.69961 7.99998L13.3996 3.39998Z"
                                                      Fill="#999999"
                                                      StrokeThickness="0" />
                                            </Viewbox>
                                        </Border>
                                        <ControlTemplate.Triggers>
                                            <Trigger Property="IsMouseOver" Value="True">
                                                <Setter TargetName="Folder" Property="Fill" Value="#6AC0E7" />
                                            </Trigger>
                                        </ControlTemplate.Triggers>
                                    </ControlTemplate>
                                </Button.Template>
                                <Button.ToolTip>
                                    <ToolTip Content="{x:Static p:Resources.PublishPackageViewResetMarkdownDirectoryButtonToolTip}" Style="{StaticResource GenericToolTipLight}" />
                                </Button.ToolTip>
                            </Button>
                        </StackPanel>

                    </Grid>

                    <!--  External Package Dependencies  -->
                    <TextBlock Style="{StaticResource LabelStyle}" Text="{x:Static p:Resources.PublishPackageExternalPackageDependencies}" />
                    <TextBlock Style="{StaticResource SubLabelStyle}" Text="{Binding DependencyNames, UpdateSourceTrigger=PropertyChanged}" />
                </StackPanel>
            </Grid>

            <!--  Grid Splitter  -->
            <GridSplitter Grid.Column="1"
                          Margin="0"
                          HorizontalAlignment="Stretch"
                          BorderBrush="#FFFFFF"
                          BorderThickness="1,0"
                          Focusable="False"
                          Opacity="0.1"
                          ResizeBehavior="PreviousAndNext"
                          ResizeDirection="Columns" />
        </Grid>
    </Grid>
</Page>
