<Project Sdk="Microsoft.NET.Sdk">
    <ImportGroup Label="PropertySheets">
        <Import Project="$(SolutionDir)Config\CS_SDK.props" />
    </ImportGroup>
    <PropertyGroup>
        <ProjectGuid>{0893F745-CB1A-427A-8E87-CA927273039A}</ProjectGuid>
        <OutputType>Exe</OutputType>
        <RootNamespace>Md2Html</RootNamespace>
        <AssemblyName>Md2Html</AssemblyName>
        <SharedOutputPath>$(OutputPath)\Md2Html\</SharedOutputPath>
        <OutputPath>bin\AnyCPU\$(Configuration)\</OutputPath>
        <PublishSingleFile>true</PublishSingleFile>
        <SelfContained>true</SelfContained>
    </PropertyGroup>
    <ItemGroup Condition=" '$(TargetFramework)' == 'net48'">
        <Reference Include="Microsoft.CSharp" />
        <Reference Include="System.Data" />
        <Reference Include="System.Net.Http" />
        <Reference Include="System.Xml" />
        <Reference Include="System" />
        <Reference Include="System.Core" />
        <Reference Include="System.Xml.Linq" />
        <Reference Include="System.Data.DataSetExtensions" />
    </ItemGroup>
    <ItemGroup>
        <PackageReference Include="AngleSharp" Version="0.14.0" />
        <PackageReference Include="AngleSharp.Css" Version="0.14.2" />
        <PackageReference Include="CommandLineParser">
            <Version>2.8.0</Version>
        </PackageReference> 
        <PackageReference Include="HtmlSanitizer">
            <Version>5.0.372</Version>
        </PackageReference>
        <PackageReference Include="Markdig">
            <Version>0.22.0</Version>
        </PackageReference>
        <PackageReference Include="System.Buffers" Version="4.5.1" />
        <PackageReference Include="System.Memory" Version="4.5.5" />
        <PackageReference Include="System.Numerics.Vectors" Version="4.5.0" />
        <PackageReference Include="System.Runtime.CompilerServices.Unsafe" Version="6.0.0" />
        <PackageReference Include="System.Text.Encoding.CodePages" Version="7.0.0" />
    </ItemGroup>
    <Target Name="AfterBuildOps" AfterTargets="Build">
        <Exec Condition=" '$([MSBuild]::IsOSPlatform(`Windows`))' == 'True'" Command="if not exist $(SharedOutputPath) mkdir $(SharedOutputPath)" />
        <Exec Condition=" '!$([MSBuild]::IsOSPlatform(`Windows`))' == 'True' " Command="mkdir -p $(SharedOutputPath)" />
        <Exec Condition=" '!$([MSBuild]::IsOSPlatform(`Windows`))' == 'True' " Command="cp $(OutputPath)*.* $(SharedOutputPath)" />
    </Target>
</Project>